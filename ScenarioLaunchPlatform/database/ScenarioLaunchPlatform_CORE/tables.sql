-- This script was created by Jason Flood and John Clarke.
DO $$
BEGIN

RAISE NOTICE 'Dropping existing tables with cascade!';
drop table if exists public.tb_user CASCADE;
drop table if exists public.tb_query CASCADE;
drop table if exists public.tb_databaseConnections CASCADE;
drop table if exists public.tb_schedule CASCADE;
drop table if exists public.tb_tasks CASCADE;
drop table if exists public.tb_query_types CASCADE;
drop table if exists public.tb_version CASCADE;
drop table if exists public.tb_stories CASCADE;
drop table if exists public.tb_guardiumData CASCADE;


drop FUNCTION if exists function_login(TEXT, TEXT);
RAISE NOTICE 'All tables and functions dropped!';

CREATE TABLE IF NOT EXISTS public.tb_version
(
    version character varying(100)
);
insert into public.tb_version(version) VALUES('v01.0004');




CREATE TABLE IF NOT EXISTS public.tb_stories
(
	id serial NOT NULL,
	runTime timestamp,
	story JSONB,
	PRIMARY KEY (id)
);

RAISE NOTICE 'Created tb_stories';





CREATE TABLE IF NOT EXISTS public.tb_user
(
    id serial NOT NULL,
    firstname character varying(100),
    surname character varying(100),
    email character varying(100),
    username character varying(100) UNIQUE,
    password character varying(100) NOT NULL,
   	active character varying(100),
    authlevel integer DEFAULT 0 NOT NULL,
    PRIMARY KEY (id)
);

RAISE NOTICE 'Created tb_user';

insert into public.tb_user(firstname, surname, email, username, password, active, authlevel) VALUES('user_firstname', 'user_surname', 'user_email', 'username', '440b8ca73a2dfeadd6849cfb848ad669656590d24d7eb7a50e3dda092e7d4e47', 'active', 1);


CREATE TABLE IF NOT EXISTS public.tb_guardiumData
(
	id serial NOT NULL,
	runTime timestamp,
	runData JSONB,
	PRIMARY KEY (id)
);

RAISE NOTICE 'Created tb_guardiumData';




CREATE TABLE IF NOT EXISTS public.tb_schedule
(
    id serial NOT NULL,
    name character varying(100),
    chronSequence character varying(100),
    fk_tb_databaseConnections_db_connection_id character varying(100),
    fk_tb_query_id INT,
    lastRunTime timestamp,
    lastRunMessage character varying(500),
    active character varying(100),
    PRIMARY KEY (id)
);

RAISE NOTICE 'Created tb_schedule';


CREATE TABLE IF NOT EXISTS public.tb_tasks
(
    id SERIAL PRIMARY KEY,
    task_name character varying(255)  NOT NULL,
    task_schedule character varying(50) NOT NULL,
    task_file_path text NOT NULL,
    task_os_type character varying(255) NOT NULL,
    created_at timestamp without time zone DEFAULT CURRENT_TIMESTAMP,
    task_file_content bytea,
	task_active character varying (20) DEFAULT 'Active'
);

RAISE NOTICE 'Created tb_tasks';

/************************************************************************************/
CREATE TABLE IF NOT EXISTS public.tb_databaseConnections
(
    id serial NOT NULL,
	db_connection_id character varying(100) NOT NULL UNIQUE,
    status character varying(100),
    db_type character varying(100) NOT NULL,
    db_version character varying(100),
    db_username character varying(100) NOT NULL,
    db_password character varying(100) NOT NULL,
   	db_port character varying(100),
    db_database character varying(100) NOT NULL,
    db_url character varying(100) NOT NULL,
   	db_jdbcClassName character varying(100),
    db_userIcon character varying(100),
   	db_databaseIcon character varying(100),
   	db_alias character varying(500),
   	db_access character varying(500),
    PRIMARY KEY (id)
);

-- RAISE NOTICE 'Created tb_databaseConnections';
-- insert into public.tb_databaseConnections(status, db_connection_id, db_type, db_version, db_username, db_password, db_port, db_database, db_url, db_jdbcClassName, db_userIcon, db_databaseIcon)  VALUES('active','mysql_127.0.0.1_world_root' ,'mysql', '8.4.2', 'root', 'mysqladmin', '3306', 'world', '127.0.0.1', 'com.mysql.cj.jdbc.Driver', 'userIcon', 'databaseIcon', 'Standard User', 'Select,Update');
-- delete from tb_databaseConnections;




INSERT INTO public.tb_databaseconnections (id, db_connection_id, status, db_type, db_version, db_username, db_password, db_port, db_database, db_url, db_jdbcclassname, db_usericon, db_databaseicon,db_alias,db_access) VALUES (45, 'postgresql_127.0.0.1_crm_john', 'active', 'postgresql', '14', 'john', 'ChangeMe!', '5432', 'crm', '127.0.0.1', 'org.postgresql.Driver', '', '', 'Standard User', 'Select,Update,Insert,Delete,Usage');
INSERT INTO public.tb_databaseconnections (id, db_connection_id, status, db_type, db_version, db_username, db_password, db_port, db_database, db_url, db_jdbcclassname, db_usericon, db_databaseicon,db_alias,db_access) VALUES (46, 'postgresql_127.0.0.1_crm_jason', 'active', 'postgresql', '14', 'jason', 'ChangeMe!', '5432', 'crm', '127.0.0.1', 'org.postgresql.Driver', '', '', 'Standard User', 'Select,Update,Insert,Delete,Usage');
INSERT INTO public.tb_databaseconnections (id, db_connection_id, status, db_type, db_version, db_username, db_password, db_port, db_database, db_url, db_jdbcclassname, db_usericon, db_databaseicon,db_alias,db_access) VALUES (47, 'postgresql_127.0.0.1_crm_liher', 'active', 'postgresql', '14', 'liher', 'ChangeMe!', '5432', 'crm', '127.0.0.1', 'org.postgresql.Driver', '', '', 'DB Admin', 'Superuser');
INSERT INTO public.tb_databaseconnections (id, db_connection_id, status, db_type, db_version, db_username, db_password, db_port, db_database, db_url, db_jdbcclassname, db_usericon, db_databaseicon,db_alias,db_access) VALUES (48, 'postgresql_127.0.0.1_crm_polly', 'active', 'postgresql', '14', 'polly', 'ChangeMe!', '5432', 'crm', '127.0.0.1', 'org.postgresql.Driver', '', '', 'Badguy', 'Superuser');
INSERT INTO public.tb_databaseconnections (id, db_connection_id, status, db_type, db_version, db_username, db_password, db_port, db_database, db_url, db_jdbcclassname, db_usericon, db_databaseicon,db_alias,db_access) VALUES (36, 'mysql_127.0.0.1_crm_JOHN', 'active', 'mysql', '10', 'JOHN', 'ChangeMe!', '3306', 'crm', '127.0.0.1', 'com.mysql.cj.jdbc.Driver', '', '', 'Standard User', 'Select,Update,Insert,Delete,Execute');
INSERT INTO public.tb_databaseconnections (id, db_connection_id, status, db_type, db_version, db_username, db_password, db_port, db_database, db_url, db_jdbcclassname, db_usericon, db_databaseicon,db_alias,db_access) VALUES (37, 'mysql_127.0.0.1_crm_JASON', 'active', 'mysql', '10', 'JASON', 'ChangeMe!', '3306', 'crm', '127.0.0.1', 'com.mysql.cj.jdbc.Driver', '', '', 'Standard User', 'Select,Update,Insert,Delete,Execute');
INSERT INTO public.tb_databaseconnections (id, db_connection_id, status, db_type, db_version, db_username, db_password, db_port, db_database, db_url, db_jdbcclassname, db_usericon, db_databaseicon,db_alias,db_access) VALUES (39, 'mysql_127.0.0.1_crm_POLLY', 'active', 'mysql', '10', 'POLLY', 'ChangeMe!', '3306', 'crm', '127.0.0.1', 'com.mysql.cj.jdbc.Driver', '', '', 'DB Admin', 'All Privileges');
INSERT INTO public.tb_databaseconnections (id, db_connection_id, status, db_type, db_version, db_username, db_password, db_port, db_database, db_url, db_jdbcclassname, db_usericon, db_databaseicon,db_alias,db_access) VALUES (44, 'mysql_127.0.0.1_crm_LIHER', 'active', 'mysql', '10', 'LIHER', 'ChangeMe!', '3306', 'crm', '127.0.0.1', 'com.mysql.cj.jdbc.Driver', '', '', 'Badguy', 'All Privileges');
/************************************************************************************/


INSERT INTO public.tb_stories (id, runtime, story) VALUES (1, NULL, '{"name": "DBA Stored Proceedure Nightmare", "story": [{"query_id": 27, "datasource": "mysql_127.0.0.1_crm_polly", "pause_in_seconds": 8000}, {"query_id": 28, "datasource": "mysql_127.0.0.1_crm_jason", "pause_in_seconds": 4000}, {"query_id": 29, "datasource": "mysql_127.0.0.1_crm_liher", "pause_in_seconds": 4000}, {"query_id": 28, "datasource": "mysql_127.0.0.1_crm_john", "pause_in_seconds": 4000}], "author": "jason", "handbook": "/handbooks/DdaStoredProceedureNightmare.pdf", "outcomes": "Understand how governence can be provided", "description": "This simple story involves the removal and recreation of a critical stored proceedure with malicious intent. Activities such as this are hard to discover for humans, but straight forward for GDP"}');


/************************************************************************************/

CREATE TABLE IF NOT EXISTS public.tb_query
(
    id serial NOT NULL,
	fk_tb_databaseConnections_id INT,
	query_db_type character varying(100),
	query_string  TEXT NOT NULL, 
	query_usecase character varying(100),
    query_type character varying(100),
    query_description character varying(500),
    video_link character varying(500),
	query_loop INT,
    /*FOREIGN KEY (fk_tb_databaseConnections_id) REFERENCES tb_databaseConnections (id),*/
	PRIMARY KEY (id)
);

ALTER SEQUENCE tb_query_id_seq RESTART WITH 1;

RAISE NOTICE 'Created tb_query';

END;$$;
/*****************************************************************/

CREATE TABLE IF NOT EXISTS public.tb_query_types
(
    id serial NOT NULL,
	query_type character varying(100),
    PRIMARY KEY (id)
);
ALTER SEQUENCE tb_query_id_seq RESTART WITH 1;

	INSERT INTO public.tb_query_types(id,query_type)
	VALUES (DEFAULT,'Select');
	INSERT INTO public.tb_query_types(id,query_type)
	VALUES (DEFAULT,'Update');
	INSERT INTO public.tb_query_types(id,query_type)
	VALUES (DEFAULT,'Delete');
	INSERT INTO public.tb_query_types(id,query_type)
	VALUES (DEFAULT,'Insert');
	INSERT INTO public.tb_query_types(id,query_type)
	VALUES (DEFAULT,'Drop');
	INSERT INTO public.tb_query_types(id,query_type)
	VALUES (DEFAULT,'Outlier');
	INSERT INTO public.tb_query_types(id,query_type)
	VALUES (DEFAULT,'Malicious Procedure');
	INSERT INTO public.tb_query_types(id,query_type)
	VALUES (DEFAULT,'Policy Violation');
	INSERT INTO public.tb_query_types(id,query_type)
	VALUES (DEFAULT,'Eagle Eye');
	INSERT INTO public.tb_query_types (id,query_type) 
	VALUES (DEFAULT,'Setup');
	
	
	

/*************************************************************************************/
ALTER SEQUENCE tb_query_id_seq RESTART WITH 1;
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type, query_description, query_loop, video_link) VALUES (DEFAULT, 35, 'Setup', 'CREATE+DATABASE+CRM%3B', '[MySQL] Create CRM database', 'mysql', 'Script to create CRM in mysql', 1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type, query_description, query_loop, video_link) VALUES (DEFAULT, 35, 'Setup', 'DROP+TABLE+IF+EXISTS+tbl_crm_accounts_status%3B%0ACREATE+TABLE+tbl_crm_accounts_status+%28id+int%2811%29+NOT+NULL+AUTO_INCREMENT%2C+status+varchar%2864%29+NOT+NULL+DEFAULT+%27%27%2C+PRIMARY+KEY+%28id%29%29+ENGINE%3DInnoDB+DEFAULT+CHARSET%3Dutf8%3B+%0AUNLOCK+TABLES%3B+%0ADROP+TABLE+IF+EXISTS+tbl_crm_accounts%3B+%0ACREATE+TABLE+tbl_crm_accounts+%28id+varchar%2836%29+NOT+NULL%2C+name+varchar%28150%29+DEFAULT+NULL%2C+date_entered+datetime+DEFAULT+NULL%2C+date_modified+datetime+DEFAULT+NULL%2C+modified_user_id+char%2836%29+DEFAULT+NULL%2C+created_by+char%2836%29+DEFAULT+NULL%2C+description+text%2C+deleted+tinyint%281%29+DEFAULT+%270%27%2C+assigned_user_id+char%2836%29+DEFAULT+NULL%2C+account_type+varchar%2850%29+DEFAULT+NULL%2C+industry+varchar%2850%29+DEFAULT+NULL%2C+annual_revenue+varchar%28100%29+DEFAULT+NULL%2C+phone_fax+varchar%28100%29+DEFAULT+NULL%2C+billing_address_street+varchar%28150%29+DEFAULT+NULL%2C+billing_address_city+varchar%28100%29+DEFAULT+NULL%2C+billing_address_state+varchar%28100%29+DEFAULT+NULL%2C+billing_address_postalcode+varchar%2820%29+DEFAULT+NULL%2C+billing_address_country+varchar%28255%29+DEFAULT+NULL%2C+rating+varchar%28100%29+DEFAULT+NULL%2C+phone_office+varchar%28100%29+DEFAULT+NULL%2C+phone_alternate+varchar%28100%29+DEFAULT+NULL%2C+website+varchar%28255%29+DEFAULT+NULL%2C+ownership+varchar%28100%29+DEFAULT+NULL%2C+employees+varchar%2810%29+DEFAULT+NULL%2C+ticker_symbol+varchar%2810%29+DEFAULT+NULL%2C+shipping_address_street+varchar%28150%29+DEFAULT+NULL%2C+shipping_address_city+varchar%28100%29+DEFAULT+NULL%2C+shipping_address_state+varchar%28100%29+DEFAULT+NULL%2C+shipping_address_postalcode+varchar%2820%29+DEFAULT+NULL%2C+shipping_address_country+varchar%28255%29+DEFAULT+NULL%2C+parent_id+char%2836%29+DEFAULT+NULL%2C+sic_code+varchar%2810%29+DEFAULT+NULL%2C+campaign_id+char%2836%29+DEFAULT+NULL%2C+status+int%2811%29+unsigned+NOT+NULL%2C+PRIMARY+KEY+%28id%29%2C+KEY+FK_STATUS+%28status%29%2C+CONSTRAINT+FK_STATUS+FOREIGN+KEY+%28status%29+REFERENCES+tbl_crm_accounts_status+%28id%29%29+ENGINE%3DMyISAM+DEFAULT+CHARSET%3Dutf8%3B+%0AUNLOCK+TABLES%3B++%0A%0ADROP+TABLE+IF+EXISTS+tbl_calls%3B+%0ACREATE+TABLE+tbl_calls+%28id+char%2836%29+NOT+NULL%2C+name+varchar%2850%29+DEFAULT+NULL%2C+date_entered+datetime+DEFAULT+NULL%2C+date_modified+datetime+DEFAULT+NULL%2C+modified_user_id+char%2836%29+DEFAULT+NULL%2C+created_by+char%2836%29+DEFAULT+NULL%2C+description+text%2C+deleted+tinyint%281%29+DEFAULT+%270%27%2C+assigned_user_id+char%2836%29+DEFAULT+NULL%2C+duration_hours+int+DEFAULT+NULL%2C+duration_minutes+int+DEFAULT+NULL%2C+date_start+varchar%2850%29+DEFAULT+NULL%2C+date_end+varchar%2850%29+DEFAULT+NULL%2C+parent_type+varchar%28255%29+DEFAULT+NULL%2C+status+varchar%28100%29+DEFAULT+%27Planned%27%2C+direction+varchar%28100%29+DEFAULT+NULL%2C+parent_id+char%2836%29+DEFAULT+NULL%2C+reminder_time+int+DEFAULT+%27-1%27%2C+outlook_id+varchar%28255%29+DEFAULT+NULL%2C+PRIMARY+KEY+%28id%29%29+ENGINE%3DMyISAM+DEFAULT+CHARSET%3Dutf8%3B+%0AUNLOCK+TABLES%3B++%0A%0ADROP+TABLE+IF+EXISTS+tbl_email_lists%3B+%0ACREATE+TABLE+tbl_email_lists+%28id+varchar%2836%29+NOT+NULL+UNIQUE%2C+email_address+varchar%28150%29+NOT+NULL+UNIQUE%2C+email_address_caps+varchar%28255%29+DEFAULT+NULL%2C+opt_out+tinyint%281%29+DEFAULT+%270%27%2C+date_created+datetime+DEFAULT+NULL%2C+PRIMARY+KEY+%28id%2Cemail_address%29%29+ENGINE%3DMyISAM+DEFAULT+CHARSET%3Dutf8%3B++%0A%0ADROP+TABLE+IF+EXISTS+tbl_marketing_template%3B+%0ACREATE+TABLE+tbl_marketing_template+%28id+varchar%2836%29+NOT+NULL%2C+subject+varchar%28255%29+NOT+NULL%2C+body+text%2C+PRIMARY+KEY+%28id%29%29+ENGINE%3DMyISAM+DEFAULT+CHARSET%3Dutf8%3B++%0A%0ADROP+TABLE+IF+EXISTS+tbl_marketing_campaign%3B+%0ACREATE+TABLE+tbl_marketing_campaign+%28id+int+NOT+NULL+AUTO_INCREMENT%2C+email_id+char%2836%29+NOT+NULL%2C+template_id+char%2836%29+NOT+NULL%2C+campaign_date+datetime+NOT+NULL%2C+PRIMARY+KEY+%28id%29%2C+KEY+FK_TEMPLATE_ID+%28template_id%29%2C+KEY+FK_EMAIL_ID+%28email_id%29%2C+CONSTRAINT+FK_TEMPLATE_ID+FOREIGN+KEY+%28template_id%29+REFERENCES+tbl_marketing_template+%28id%29%2C+CONSTRAINT+FK_EMAIL_ID+FOREIGN+KEY+%28email_id%29+REFERENCES+tbl_email_lists+%28id%29%29+ENGINE%3DMyISAM+DEFAULT+CHARSET%3Dutf8%3B+%0AALTER+TABLE+tbl_marketing_campaign+AUTO_INCREMENT%3D100%3B++%0A%0ADROP+TABLE+IF+EXISTS+tbl_bugs%3B+%0ACREATE+TABLE+tbl_bugs+%28id+char%2836%29+NOT+NULL%2C+name+varchar%28255%29+DEFAULT+NULL%2C+date_entered+varchar%28255%29+DEFAULT+NULL%2C+date_modified+varchar%28255%29+DEFAULT+NULL%2C+modified_user_id+char%2836%29+DEFAULT+NULL%2C+created_by+char%2836%29+DEFAULT+NULL%2C+description+text%2C+deleted+tinyint%281%29+DEFAULT+%270%27%2C+assigned_user_id+char%2836%29+DEFAULT+NULL%2C+bug_number+int+DEFAULT+%270%27%2C+type+varchar%28255%29+DEFAULT+NULL%2C+status+varchar%28100%29+DEFAULT+NULL%2C+priority+varchar%28100%29+DEFAULT+NULL%2C+resolution+varchar%28255%29+DEFAULT+NULL%2C+work_log+text%2C+found_in_release+varchar%28255%29+DEFAULT+NULL%2C+fixed_in_release+varchar%28255%29+DEFAULT+NULL%2C+source+varchar%28255%29+DEFAULT+NULL%2C+product_category+varchar%28255%29+DEFAULT+NULL%2C+PRIMARY+KEY+%28id%29%29+ENGINE%3DMyISAM+DEFAULT+CHARSET%3Dutf8%3B%0A+UNLOCK+TABLES%3B++%0A%0ADROP+TABLE+IF+EXISTS+tbl_product%3B+%0ACREATE+TABLE+tbl_product+%28id+varchar%2825%29+NOT+NULL%2C+name+varchar%28150%29+DEFAULT+NULL%2C+description+text%2C+price+DECIMAL%2810%2C2%29%2C+quantity+INT+DEFAULT+%270%27%2C+PRIMARY+KEY+%28id%29%29+ENGINE%3DMyISAM+DEFAULT+CHARSET%3Dutf8%3B++%0A%0AINSERT+INTO+tbl_crm_accounts_status+%28id%2C+status%29+VALUES+%281%2C%27lead%27%29%2C%282%2C%27opportunity%27%29%2C%283%2C%27customer%2Fwon%27%29%2C%284%2C%27archive%27%29%3B++%0A%0ADROP+PROCEDURE+IF+EXISTS+PopulateTables%3B+%0ACREATE+PROCEDURE+PopulateTables%28%29+BEGIN+DECLARE+i+INT+DEFAULT+0%3B+WHILE+i+%3C+10+DO+INSERT+INTO+tbl_crm_accounts_status+%28status%29+VALUES+%28CASE+WHEN+RAND%28%29+%3C+0.1+THEN+%27RFP%27+WHEN+RAND%28%29+%3C+0.2+THEN+%27Holding%27+WHEN+RAND%28%29+%3C+0.3+THEN+%27Call+Back%27+WHEN+RAND%28%29+%3C+0.4+THEN+%27Negotiation%27+WHEN+RAND%28%29+%3C+0.5+THEN+%27Closed+Won%27+WHEN+RAND%28%29+%3C+0.6+THEN+%27Closed+Lost%27+WHEN+RAND%28%29+%3C+0.7+THEN+%27Pending+Approval%27+WHEN+RAND%28%29+%3C+0.8+THEN+%27On+Hold%27+WHEN+RAND%28%29+%3C+0.9+THEN+%27Under+Review%27+ELSE+%27Prospect%27+END%29%3B+SET+i+%3D+i+%2B+1%3B+END+WHILE%3B++SET+i+%3D+0%3B+WHILE+i+%3C+1000+DO+INSERT+INTO+tbl_crm_accounts+%28id%2C+name%2C+date_entered%2C+date_modified%2C+modified_user_id%2C+created_by%2C+description%2C+deleted%2C+assigned_user_id%2C+account_type%2C+industry%2C+annual_revenue%2C+phone_fax%2C+billing_address_street%2C+billing_address_city%2C+billing_address_state%2C+billing_address_postalcode%2C+billing_address_country%2C+rating%2C+phone_office%2C+phone_alternate%2C+website%2C+ownership%2C+employees%2C+ticker_symbol%2C+shipping_address_street%2C+shipping_address_city%2C+shipping_address_state%2C+shipping_address_postalcode%2C+shipping_address_country%2C+parent_id%2C+sic_code%2C+campaign_id%2C+status%29++VALUES+%28SUBSTRING%28UUID%28%29%2C+1%2C+25%29%2C+CONCAT%28%27MegaCorp_%27%2C+i%29%2C+NOW%28%29%2C+NOW%28%29%2C+UUID%28%29%2C+UUID%28%29%2C+CASE+WHEN+RAND%28%29+%3C+0.2+THEN+%27Innovator+in+AI-driven+analytics.%27+WHEN+RAND%28%29+%3C+0.4+THEN+%27Pioneering+next-gen+cloud+computing.%27+WHEN+RAND%28%29+%3C+0.6+THEN+%27Transforming+industries+with+automation.%27+WHEN+RAND%28%29+%3C+0.8+THEN+%27Redefining+customer+engagement+with+AI.%27+ELSE+%27Trailblazer+in+quantum+computing+solutions.%27+END%2C+0%2C+UUID%28%29%2C+%27Enterprise%27%2C+%27Technology%27%2C+%27500M%2B%27%2C+%27555-1234%27%2C+%2742+Innovation+Blvd%27%2C+%27Tech+City%27%2C+%27Futurist+State%27%2C+%2754321%27%2C+%27Global%27%2C+%275-Star%27%2C+%27555-5678%27%2C+%27555-8765%27%2C+%27www.megacorp.com%27%2C+%27Public%27%2C+%275000%2B%27%2C+%27MGC%27%2C+%2710+Silicon+Way%27%2C+%27Tech+City%27%2C+%27Futurist+State%27%2C+%2767890%27%2C+%27Global%27%2C+NULL%2C+%27SIC123%27%2C+NULL%2C+%28SELECT+id+FROM+tbl_crm_accounts_status+ORDER+BY+RAND%28%29+LIMIT+1%29%29%3B+SET+i+%3D+i+%2B+1%3B+END+WHILE%3B+SET+i+%3D+0%3B++WHILE+i+%3C+1000+DO+INSERT+INTO+tbl_calls+%28id%2C+name%2C+date_entered%2C+date_modified%2C+modified_user_id%2C+created_by%2C+description%2C+deleted%2C+assigned_user_id%2C+duration_hours%2C+duration_minutes%2C+date_start%2C+date_end%2C+parent_type%2C+status%2C+direction%2C+parent_id%2C+reminder_time%2C+outlook_id%29++VALUES+%28SUBSTRING%28UUID%28%29%2C+1%2C+25%29%2C+CONCAT%28%27Strategic+Meeting_%27%2C+i%29%2C+NOW%28%29%2C+NOW%28%29%2C+UUID%28%29%2C+UUID%28%29%2C+%27Discussing+groundbreaking+innovations.%27%2C+0%2C+UUID%28%29%2C+FLOOR%28RAND%28%29+*+5%29%2C+FLOOR%28RAND%28%29+*+60%29%2C+NOW%28%29%2C+NOW%28%29%2C+%27Tech+Conference%27%2C+%27Confirmed%27%2C+%27Inbound%27%2C+UUID%28%29%2C+-1%2C+NULL%29%3B+SET+i+%3D+i+%2B+1%3B+END+WHILE%3B+SET+i+%3D+0%3B+WHILE+i+%3C+1000+DO+INSERT+INTO+tbl_email_lists+%28id%2C+email_address%2C+email_address_caps%2C+opt_out%2C+date_created%29++VALUES+%28SUBSTRING%28UUID%28%29%2C+1%2C+25%29%2C+CONCAT%28CASE++WHEN+RAND%28%29+%3C+0.2+THEN+%27techguru%27++WHEN+RAND%28%29+%3C+0.4+THEN+%27innovator%27++WHEN+RAND%28%29+%3C+0.6+THEN+%27visionary%27++WHEN+RAND%28%29+%3C+0.8+THEN+%27pioneer%27+ELSE+%27genius%27+END%2C+i%2C+%27%40%27%2C+CASE+WHEN+RAND%28%29+%3C+0.5+THEN+%27futuretech.com%27++ELSE+%27nextgenai.com%27++END%29%2C+UPPER%28CONCAT%28CASE+WHEN+RAND%28%29+%3C+0.2+THEN+%27techguru%27+WHEN+RAND%28%29+%3C+0.4+THEN+%27innovator%27+WHEN+RAND%28%29+%3C+0.6+THEN+%27visionary%27++WHEN+RAND%28%29+%3C+0.8+THEN+%27pioneer%27++ELSE+%27genius%27++END%2C+i%2C+%27%40%27%2C+CASE++WHEN+RAND%28%29+%3C+0.5+THEN+%27futuretech.com%27++ELSE+%27nextgenai.com%27+END%29%29%2C++0%2C+NOW%28%29%29%3BSET+i+%3D+i+%2B+1%3B+END+WHILE%3B+SET+i+%3D+0%3B+WHILE+i+%3C+1000+DO+INSERT+INTO+tbl_marketing_template+%28id%2C+subject%2C+body%29+VALUES+%28SUBSTRING%28UUID%28%29%2C+1%2C+25%29%2C+CONCAT%28%27Revolutionizing+the+Future_%27%2C+i%29%2C+%27Join+us+as+we+redefine+the+industry+with+cutting-edge+technology.%27%29%3B++SET+i+%3D+i+%2B+1%3B+END+WHILE%3B+SET+i+%3D+0%3B+WHILE+i+%3C+1000+DO+INSERT+INTO+tbl_marketing_campaign+%28email_id%2C+template_id%2C+campaign_date%29++VALUES+%28%28SELECT+id+FROM+tbl_email_lists+ORDER+BY+RAND%28%29+LIMIT+1%29%2C+%28SELECT+id+FROM+tbl_marketing_template+ORDER+BY+RAND%28%29+LIMIT+1%29%2C+NOW%28%29%29%3B+SET+i+%3D+i+%2B+1%3BEND+WHILE%3B+SET+i+%3D+0%3B+WHILE+i+%3C+1000+DO+INSERT+INTO+tbl_bugs+%28id%2C+name%2C+date_entered%2C+date_modified%2C+modified_user_id%2C+created_by%2C+description%2C+deleted%2C+assigned_user_id%2C+bug_number%2C+type%2C+status%2C+priority%2C+resolution%2C+work_log%2C+found_in_release%2C+fixed_in_release%2C+source%2C+product_category%29++VALUES+%28SUBSTRING%28UUID%28%29%2C+1%2C+25%29%2C+CONCAT%28%27AI+Glitch_%27%2C+i%29%2C+NOW%28%29%2C+NOW%28%29%2C+UUID%28%29%2C+UUID%28%29%2C+%27Neural+network+miscalculation+causing+unexpected+insights.%27%2C+0%2C+UUID%28%29%2C+FLOOR%28RAND%28%29+*+1000%29%2C+%27AI+Module%27%2C+%27Open%27%2C+%27Critical%27%2C+%27In+Progress%27%2C+%27Investigating+deep+learning+anomalies.%27%2C+%27v3.2%27%2C+%27v3.3%27%2C+%27AI+Lab%27%2C+%27Machine+Learning%27%29%3B+SET+i+%3D+i+%2B+1%3B+END+WHILE%3B+SET+i+%3D+0%3B+WHILE+i+%3C+1000+DO+INSERT+INTO+tbl_product+%28id%2C+name%2C+description%2C+price%2C+quantity%29++VALUES+%28SUBSTRING%28UUID%28%29%2C+1%2C+25%29%2C+CONCAT%28%27Quantum+Processor_%27%2C+i%29%2C+%27Next-gen+computing+power+for+AI-driven+solutions.%27%2C+ROUND%28RAND%28%29+*+10000%2C+2%29%2C+FLOOR%28RAND%28%29+*+500%29%29%3B+SET+i+%3D+i+%2B+1%3B+END+WHILE%3B+END%3B%0ACALL+PopulateTables%28%29%3B++%0A', '[MySQL] CRM tables setup script', 'mysql', 'Script top setup the demo tables for salesDB', 1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type, query_description, query_loop, video_link) VALUES (DEFAULT, 35, 'Setup', 'DROP+USER+IF+EXISTS+%27POLLY%27%40%27%25%27%3B+%0ADROP+USER+IF+EXISTS+%27JOHN%27%40%27%25%27%3B+%0ADROP+USER+IF+EXISTS+%27JASON%27%40%27%25%27%3B%0ADROP+USER+IF+EXISTS+%27LIHER%27%40%27%25%27%3B%0ACREATE+USER+IF+NOT+EXISTS+%27POLLY%27%40%27%25%27+IDENTIFIED+BY+%27ChangeMe%21%27%3B+%0ACREATE+USER+IF+NOT+EXISTS+%27JOHN%27%40%27%25%27+IDENTIFIED+BY+%27ChangeMe%21%27%3B+%0ACREATE+USER+IF+NOT+EXISTS+%27JASON%27%40%27%25%27+IDENTIFIED+BY+%27ChangeMe%21%27%3B+%0ACREATE+USER+IF+NOT+EXISTS+%27LIHER%27%40%27%25%27+IDENTIFIED+BY+%27ChangeMe%21%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+*.*+TO+%27POLLY%27%40%27%25%27+WITH+GRANT+OPTION%3B+%0AGRANT+ALL+PRIVILEGES+ON+*.*+TO+%27LIHER%27%40%27%25%27+WITH+GRANT+OPTION%3B+%0AGRANT+SELECT%2CINSERT%2CUPDATE%2CDELETE%2CEXECUTE+ON+crm.*+TO+%27JOHN%27%40%27%25%27%3B+%0AGRANT+SELECT%2CINSERT%2CUPDATE%2CDELETE%2CEXECUTE+ON+crm.*+TO+%27JASON%27%40%27%25%27%3B+%0AFLUSH+PRIVILEGES%3B%0A', '[MySQL] CRM demo users setup script', 'mysql', 'Script to setup users in mysql', 1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type, query_description, query_loop, video_link) VALUES (DEFAULT, 35, 'Setup', 'SELECT+%40%40version%0A%0ASELECT+*+FROM+information_schema.tables%0A%0ASELECT+*+FROM+information_schema.columns+WHERE+table_name+%3D+%27Users%27%0A%0ASELECT+COUNT%28*%29+FROM+tbl_calls%3B%0ASELECT+COUNT%28*%29+FROM+tbl_crm_accounts%3B%0ASELECT+COUNT%28*%29+FROM+tbl_email_lists%3B', '[MySQL] Liher Traffic', 'mysql', 'User Liher runs admin queries', 0, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type, query_description, query_loop, video_link) VALUES (DEFAULT, 35, 'Setup', 'select+*+from+tbl_crm_accounts_status%3B%0A%0A%0Aupdate+tbl_crm_accounts+set+name+%3D+%27Maestro+B.H+Edwards+Inc%27+where+id+%3D+%27df61978a-f4cc-ff64-8de0-53e90f19a56a%27%3B%0Aupdate+tbl_product+set+name+%3D+%27Washing+Detergent%27+where+id+%3D+%27d67f8d9d%27%3B%0Aupdate+tbl_bugs+set+description+%3D+%27Undefined+Error+occurs+while+running+count+query%27+where+id+%3D+%27e4f7505c-0a0e-f582-f406-53e90f8a5637%27%3B%0A%0Aselect+*+from+tbl_email_lists%3B%0Aselect+COUNT%28*%29+from+tbl_email_lists%3B%0A%0Aupdate+tbl_email_lists+set+email_address+%3D+%27Dvisionary991%40nextgenai.com%27%2C+email_address_caps%3D%27VISIONARY991%40FUTURETECH.COM%27+where+id%3D%27aca2f3c2-f826-11ef-8c15-0%27%3B%0A%0Aselect+*+from+tbl_email_lists+where+id%3D%27aca2f3c2-f826-11ef-8c15-0%27%3B%0A%0Aupdate+tbl_email_lists+set+email_address+%3D+%27visionary991%40nextgenai.com%27%2C+email_address_caps%3D%27VISIONARY991%40FUTURETECH.COM%27+where+id%3D%27aca2f3c2-f826-11ef-8c15-0%27%3B%0A', '[MySQL] John Traffic', 'mysql', 'User John runs standard queries', 0, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type, query_description, query_loop, video_link) VALUES (DEFAULT, 35, 'Setup', 'select+*+from+tbl_crm_accounts_status+%3B%0A%0Aupdate+tbl_crm_accounts+set+name+%3D+%27Mr+B.H+Edwards+Inc%27+where+id+%3D+%27df61978a-f4cc-ff64-8de0-53e90f19a56a%27%3B%0Aupdate+tbl_product+set+name+%3D+%27up+Detergent%27+where+id+%3D+%27d67f8d9d%27%3B%0Aupdate+tbl_bugs+set+description+%3D+%27The+Error+occurs+while+running+count+query%27+where+id+%3D+%27e4f7505c-0a0e-f582-f406-53e90f8a5637%27%3B%0A%0A%0Aupdate+tbl_crm_accounts+set+name+%3D+%27Lord++B.H+Edwards+Inc%27+where+id+%3D+%27df61978a-f4cc-ff64-8de0-53e90f19a56a%27%3B%0Aupdate+tbl_product+set+name+%3D+%27Non+BioDetergent%27+where+id+%3D+%27d67f8d9d%27%3B%0Aupdate+tbl_bugs+set+description+%3D+%27Bad+Error+occurs+while+running+count+query%27+where+id+%3D+%27e4f7505c-0a0e-f582-f406-53e90f8a5637%27%3B%0A%0A%0Aselect+*+from+tbl_calls%3B%0Aselect+*+from+tbl_email_lists%3B%0Aselect+*+from+tbl_crm_accounts%3B%0Aselect+*+from+tbl_crm_accounts_status%3B%0Aselect+*+from+tbl_email_lists%3B%0A%0ADELETE+FROM+tbl_crm_accounts+WHERE+id+%3D%27df61978a-f4cc-ff64-8de0-53e90f19a56b%27%3B%0A%0ADELETE+FROM+tbl_crm_accounts+WHERE+id+%3D%27df61978a-f4cc-ff64-8de0-53e90f19a56a%27%3B%0A%0ADELETE+FROM+tbl_calls+WHERE+id%3D+%27e854b40d-414e-6c8d-d2b7-53e90f7b0f77%27%3B%0A%0ADELETE+FROM+tbl_product+WHERE+id+%3D%27d67f8d9d%27%3B%0A%0ADELETE+FROM+tbl_lists+WHERE+id+%3D%27d67f8d9d-7c28-00df-47f1-53e90f54066f%27%27%3B%0A%0AINSERT+INTO+tbl_crm_accounts+VALUES+%28%27df61978a-f4cc-ff64-8de0-53e90f19a56b%27%2C%27J.K.+Solutions%27%2C%272024-10-22+04%3A11%3A33%27%2C%272024-09-24+03%3A11%3A33%27%2C%27seed_will_id%27%2C%271%27%2CNULL%2C0%2C%27seed_max_id%27%2C%27Customer%27%2C%27Technology%27%2CNULL%2CNULL%2C%271715+Scott+Dr%27%2C%27Alabama%27%2C%27CA%27%2C%2714882%27%2C%27USA%27%2CNULL%2C%27%28847%29+706-6877%27%2CNULL%2C%27www.devim.edu%27%2CNULL%2CNULL%2CNULL%2C%271715+Scott+Dr%27%2C%27Alabama%27%2C%27CA%27%2C%2714882%27%2C%27USA%27%2CNULL%2CNULL%2CNULL%2C1%29%3B%0A%0AINSERT+INTO+tbl_crm_accounts+VALUES+%28%27df61978a-f4cc-ff64-8de0-53e90f19a56a%27%2C%27B.H.+Edwards+Inc%27%2C%272024-09-22+03%3A11%3A33%27%2C%272024-09-24+03%3A11%3A33%27%2C%27seed_will_id%27%2C%271%27%2CNULL%2C0%2C%27seed_max_id%27%2C%27Customer%27%2C%27Technology%27%2CNULL%2CNULL%2C%271715+Scott+Dr%27%2C%27Alabama%27%2C%27CA%27%2C%2714882%27%2C%27USA%27%2CNULL%2C%27%28847%29+706-6877%27%2CNULL%2C%27www.devim.edu%27%2CNULL%2CNULL%2CNULL%2C%271715+Scott+Dr%27%2C%27Alabama%27%2C%27CA%27%2C%2714882%27%2C%27USA%27%2CNULL%2CNULL%2CNULL%2C1%29%3B%0A%0AINSERT+INTO+tbl_calls+VALUES+%28%27e854b40d-414e-6c8d-d2b7-53e90f7b0f77%27%2C%27Left+a+message%27%2CDATE_SUB%28NOW%28%29%2C+INTERVAL+2+DAY%29%2CNOW%28%29%2C%271%27%2C%271%27%2CNULL%2C0%2C%27seed_max_id%27%2C0%2C30%2C%272014-12-28+09%3A30%3A00%27%2C%272014-12-28+10%3A00%3A00%27%2C%27Accounts%27%2C%27Planned%27%2C%27Outbound%27%2C%27df61978a-f4cc-ff64-8de0-53e90f19a56a%27%2C-1%2CNULL%29%3B%0A%0AINSERT+INTO+tbl_product+VALUES+%28%27d67f8d9d%27%2C%27Detergent%27%2C%27Keep+the+clothes+cleaner+with+this+detergent%27%2C%274.80%27%2C10%29%3B%0A%0AINSERT+INTO+tbl_email_lists+VALUES+%28%27d67f8d9d-7c28-00df-47f1-53e90f54066f%27%2C%27jim%40example.com%27%2C%27JIM%40EXAMPLE.COM%27%2C0%2CDATE_SUB%28NOW%28%29%2C+INTERVAL+2+DAY%29%29%3B%0A%0Aselect+*+from+tbl_calls%3B%0Aselect+*+from+tbl_email_lists%3B%0Aselect+*+from+tbl_crm_accounts%3B%0Aselect+*+from+tbl_crm_accounts_status%3B%0Aselect+*+from+tbl_email_lists%3B', '[MySQL] Jason Traffic', 'mysql', 'User Jason runs standard queries', 0, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type, query_description, query_loop, video_link) VALUES (DEFAULT, 35, 'Setup', 'SELECT++*+from+tbl_marketing_campaign+LIMIT+%7BINT%7D%3B%0ASELECT+*+FROM+tbl_email_lists+LIMIT++%7BINT%7D%3B%0ASELECT+*+FROM+tbl_marketing_template+LIMIT++%7BINT%7D%3B%0A%0ASELECT++tbl_marketing_campaign.id%2C+tbl_email_lists.email_address%2C+tbl_marketing_template.subject%2C+tbl_marketing_campaign.campaign_date+FROM+tbl_marketing_campaign+JOIN+tbl_email_lists+ON+tbl_marketing_campaign.email_id+%3D+tbl_email_lists.id+JOIN+tbl_marketing_template+ON+tbl_marketing_campaign.template_id+%3D+tbl_marketing_template.id+ORDER+BY+tbl_marketing_campaign.campaign_date+DESC+LIMIT+20%3B%0A%0ASELECT+*+from+tbl_crm_accounts+LIMIT++%7BINT%7D%3B%0ASELECT+*+FROM+tbl_calls+LIMIT++%7BINT%7D%3B%0ASELECT+tbl_crm_accounts.id+AS+account_id%2C+tbl_crm_accounts.name+AS+account_name%2C+tbl_calls.id+AS+call_id%2C+tbl_calls.name+AS+call_subject%2C+tbl_calls.date_start%2C+tbl_calls.status+FROM+tbl_crm_accounts+JOIN+tbl_calls+ON+tbl_calls.parent_id+%3D+tbl_crm_accounts.id+WHERE+tbl_calls.status+%3D+%27Planned%27+ORDER+BY+tbl_calls.date_start+DESC+LIMIT+%7BINT%7D%3B%0A', '[MySQL] Polly Traffic', 'mysql', 'User Polly runs admin queries', 0, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type, query_description, query_loop, video_link) VALUES (DEFAULT, 35, 'Setup', 'DROP+TABLE+IF+EXISTS+tbl_crm_accounts_status+CASCADE%3B%0ACREATE+TABLE+tbl_crm_accounts_status+%28+id+SERIAL+PRIMARY+KEY%2Cstatus+VARCHAR%2864%29+NOT+NULL+DEFAULT+%27%27%29%3B%0A%0ADROP+TABLE+IF+EXISTS+tbl_crm_accounts+CASCADE%3B%0ACREATE+TABLE+tbl_crm_accounts+%28+id+UUID+PRIMARY+KEY%2C+name+VARCHAR%28150%29+DEFAULT+NULL%2C+date_entered+TIMESTAMP+DEFAULT+NULL%2C+date_modified+TIMESTAMP+DEFAULT+NULL%2C+modified_user_id+VARCHAR%28255%29+DEFAULT+NULL%2Ccreated_by+VARCHAR%28255%29+DEFAULT+NULL%2Cdescription+TEXT%2Cdeleted+BOOLEAN+DEFAULT+FALSE%2Cassigned_user_id+VARCHAR%28255%29+DEFAULT+NULL%2Caccount_type+VARCHAR%2850%29+DEFAULT+NULL%2Cindustry+VARCHAR%2850%29+DEFAULT+NULL%2Cannual_revenue+VARCHAR%28100%29+DEFAULT+NULL%2Cphone_fax+VARCHAR%28100%29+DEFAULT+NULL%2Cbilling_address_street+VARCHAR%28150%29+DEFAULT+NULL%2Cbilling_address_city+VARCHAR%28100%29+DEFAULT+NULL%2Cbilling_address_state+VARCHAR%28100%29+DEFAULT+NULL%2Cbilling_address_postalcode+VARCHAR%2820%29+DEFAULT+NULL%2Cbilling_address_country+VARCHAR%28255%29+DEFAULT+NULL%2Crating+VARCHAR%28100%29+DEFAULT+NULL%2Cphone_office+VARCHAR%28100%29+DEFAULT+NULL%2Cphone_alternate+VARCHAR%28100%29+DEFAULT+NULL%2Cwebsite+VARCHAR%28255%29+DEFAULT+NULL%2Cownership+VARCHAR%28100%29+DEFAULT+NULL%2Cemployees+VARCHAR%2810%29+DEFAULT+NULL%2Cticker_symbol+VARCHAR%2810%29+DEFAULT+NULL%2Cshipping_address_street+VARCHAR%28150%29+DEFAULT+NULL%2Cshipping_address_city+VARCHAR%28100%29+DEFAULT+NULL%2Cshipping_address_state+VARCHAR%28100%29+DEFAULT+NULL%2Cshipping_address_postalcode+VARCHAR%2820%29+DEFAULT+NULL%2Cshipping_address_country+VARCHAR%28255%29+DEFAULT+NULL%2Cparent_id+VARCHAR%28255%29+DEFAULT+NULL%2Csic_code+VARCHAR%2810%29+DEFAULT+NULL%2Ccampaign_id+VARCHAR%28255%29+DEFAULT+NULL%2Cstatus+INTEGER+NOT+NULL%2CFOREIGN+KEY+%28status%29+REFERENCES+tbl_crm_accounts_status+%28id%29%29%3B%0A%0ADROP+TABLE+IF+EXISTS+tbl_calls+CASCADE%3B+CREATE+TABLE+tbl_calls+%28+id+UUID+PRIMARY+KEY%2Cname+VARCHAR%2850%29+DEFAULT+NULL%2Cdate_entered+TIMESTAMP+DEFAULT+NULL%2Cdate_modified+TIMESTAMP+DEFAULT+NULL%2C+modified_user_id+VARCHAR%28255%29+DEFAULT+NULL%2Ccreated_by+VARCHAR%28255%29+DEFAULT+NULL%2Cdescription+TEXT%2Cdeleted+BOOLEAN+DEFAULT+FALSE%2C+assigned_user_id+VARCHAR%28255%29+DEFAULT+NULL%2Cduration_hours+INTEGER+DEFAULT+NULL%2Cduration_minutes+INTEGER+DEFAULT+NULL%2C+date_start+TIMESTAMP+DEFAULT+NULL%2Cdate_end+TIMESTAMP+DEFAULT+NULL%2C+parent_type+VARCHAR%28255%29+DEFAULT+NULL%2Cstatus+VARCHAR%28100%29+DEFAULT+%27Planned%27%2C+direction+VARCHAR%28100%29+DEFAULT+NULL%2C+parent_id+VARCHAR%28255%29+DEFAULT+NULL%2Creminder_time+INTEGER+DEFAULT+-1%2C+outlook_id+VARCHAR%28255%29+DEFAULT+NULL%29%3B%0A%0ADROP+TABLE+IF+EXISTS+tbl_email_lists+CASCADE%3B%0ACREATE+TABLE+tbl_email_lists+%28id+VARCHAR%28255%29+PRIMARY+KEY%2Cemail_address+VARCHAR%28150%29+UNIQUE+NOT+NULL%2C+email_address_caps+VARCHAR%28255%29+DEFAULT+NULL%2Copt_out+BOOLEAN+DEFAULT+FALSE%2C+date_created+TIMESTAMP+DEFAULT+NULL%29%3B%0A%0ADROP+TABLE+IF+EXISTS+tbl_marketing_template+CASCADE%3B%0ACREATE+TABLE+tbl_marketing_template+%28id+VARCHAR%28255%29+PRIMARY+KEY%2Csubject+VARCHAR%28255%29+NOT+NULL%2C+body+TEXT%29%3B%0A%0ADROP+TABLE+IF+EXISTS+tbl_marketing_campaign+CASCADE%3B%0ACREATE+TABLE+tbl_marketing_campaign+%28++id+SERIAL+PRIMARY+KEY%2Cemail_id+VARCHAR%28255%29+NOT+NULL%2Ctemplate_id+VARCHAR%28255%29+NOT+NULL%2Ccampaign_date+TIMESTAMP+NOT+NULL%2CFOREIGN+KEY+%28template_id%29+REFERENCES+tbl_marketing_template+%28id%29%2CFOREIGN+KEY+%28email_id%29+REFERENCES+tbl_email_lists+%28id%29%29%3B%0A%0ADROP+TABLE+IF+EXISTS+tbl_bugs+CASCADE%3B%0ACREATE+TABLE+tbl_bugs+%28id+VARCHAR%28255%29+PRIMARY+KEY%2Cname+VARCHAR%28255%29+DEFAULT+NULL%2Cdate_entered+TIMESTAMP+DEFAULT+NULL%2Cdate_modified+TIMESTAMP+DEFAULT+NULL%2Cmodified_user_id+VARCHAR%28255%29+DEFAULT+NULL%2Ccreated_by+VARCHAR%28255%29+DEFAULT+NULL%2Cdescription+TEXT%2Cdeleted+BOOLEAN+DEFAULT+FALSE%2Cassigned_user_id+VARCHAR%28255%29+DEFAULT+NULL%2Cbug_number+INTEGER+DEFAULT+0%2Ctype+VARCHAR%28255%29+DEFAULT+NULL%2Cstatus+VARCHAR%28100%29+DEFAULT+NULL%2Cpriority+VARCHAR%28100%29+DEFAULT+NULL%2Cresolution+VARCHAR%28255%29+DEFAULT+NULL%2Cwork_log+TEXT%2Cfound_in_release+VARCHAR%28255%29+DEFAULT+NULL%2Cfixed_in_release+VARCHAR%28255%29+DEFAULT+NULL%2Csource+VARCHAR%28255%29+DEFAULT+NULL%2C+product_category+VARCHAR%28255%29+DEFAULT+NULL%29%3B%0A%0ADROP+TABLE+IF+EXISTS+tbl_product+CASCADE%3B%0ACREATE+TABLE+tbl_product+%28id+VARCHAR%28255%29+PRIMARY+KEY%2Cname+VARCHAR%28150%29+DEFAULT+NULL%2Cdescription+TEXT%2Cprice+DECIMAL%2810%2C2%29%2C+quantity+INTEGER+DEFAULT+0%29%3B%0A%0A--+Insert+Data%0AINSERT+INTO+tbl_crm_accounts_status+%28id%2C+status%29+VALUES+%281%2C+%27lead%27%29%2C+%282%2C+%27opportunity%27%29%2C+%283%2C+%27customer%2Fwon%27%29%2C+%284%2C+%27archive%27%29%3B%0A%0AINSERT+INTO+tbl_crm_accounts+VALUES+%28%27df61978a-f4cc-ff64-8de0-53e90f19a56a%27%2C+%27B.H.+Edwards+Inc%27%2C+%272024-09-22+03%3A11%3A33%27%2C+%272024-09-24+03%3A11%3A33%27%2C+%27seed_will_id%27%2C+%271%27%2C+NULL%2C+FALSE%2C+%27seed_max_id%27%2C+%27Customer%27%2C+%27Technology%27%2C+NULL%2C+NULL%2C+%271715+Scott+Dr%27%2C+%27Alabama%27%2C+%27CA%27%2C+%2714882%27%2C+%27USA%27%2C+NULL%2C+%27%28847%29+706-6877%27%2C+NULL%2C+%27www.devim.edu%27%2C+NULL%2C+NULL%2C+NULL%2C+%271715+Scott+Dr%27%2C+%27Alabama%27%2C+%27CA%27%2C+%2714882%27%2C+%27USA%27%2C+NULL%2C+NULL%2C+NULL%2C+1%29%3B%0A%0AINSERT+INTO+tbl_calls+VALUES+%28%27e854b40d-414e-6c8d-d2b7-53e90f7b0f77%27%2C+%27Left+a+message%27%2C+NOW%28%29+-+INTERVAL+%272+days%27%2C+NOW%28%29%2C+%271%27%2C+%271%27%2C+NULL%2C+FALSE%2C+%27seed_max_id%27%2C+0%2C+30%2C+%272014-12-28+09%3A30%3A00%27%2C+%272014-12-28+10%3A00%3A00%27%2C+%27Accounts%27%2C+%27Planned%27%2C+%27Outbound%27%2C+%27df61978a-f4cc-ff64-8de0-53e90f19a56a%27%2C+-1%2C+NULL%29%3B%0A%0AINSERT+INTO+tbl_product+VALUES+%28%27d67f8d9d%27%2C+%27Detergent%27%2C+%27Keep+the+clothes+cleaner+with+this+detergent%27%2C+4.80%2C+10%29%3B%0A%0AINSERT+INTO+tbl_email_lists+VALUES+%28%27d67f8d9d-7c28-00df-47f1-53e90f54066f%27%2C+%27jim%40securecrm.com%27%2C+%27JIM%40SECURECRM.COM%27%2C+FALSE%2C+NOW%28%29+-+INTERVAL+%272+days%27%29%3B%0A%0AINSERT+INTO+tbl_marketing_template+VALUES+%28%2753e90f54066f%27%2C+%27Free+Detergent+with+new+technology%27%2C+%27Keep+the+clothes+cleaner+with+this+detergent%27%29%3B%0A%0AINSERT+INTO+tbl_marketing_campaign+%28email_id%2C+template_id%2C+campaign_date%29+VALUES+%28%27d67f8d9d-7c28-00df-47f1-53e90f54066f%27%2C+%2753e90f54066f%27%2C+NOW%28%29+%2B+INTERVAL+%2710+days%27%29%3B%0A%0AINSERT+INTO+tbl_bugs+VALUES+%28%27e4f7505c-0a0e-f582-f406-53e90f8a5637%27%2C+%27Error+occurs+while+running+count+query%27%2C+NOW%28%29+-+INTERVAL+%272+days%27%2C+NOW%28%29%2C+%271%27%2C+%271%27%2C+NULL%2C+FALSE%2C+%27seed_max_id%27%2C+1%2C+NULL%2C+%27Assigned%27%2C+%27Medium%27%2C+NULL%2C+NULL%2C+NULL%2C+NULL%2C+NULL%2C+NULL%29%3B%0A%0ADO+%24%24+DECLARE++i+INT%3B+account_uuid+UUID%3B+user_uuid+VARCHAR%3B+call_uuid+UUID%3B+product_uuid+VARCHAR%3B+email_uuid+VARCHAR%3B++template_uuid+VARCHAR%3B+bug_uuid+VARCHAR%3B+status_id+INT%3B+BEGIN+FOR+i+IN+1..1000+LOOP+account_uuid+%3A%3D+gen_random_uuid%28%29%3B+user_uuid+%3A%3D+gen_random_uuid%28%29%3B+call_uuid+%3A%3D+gen_random_uuid%28%29%3B+product_uuid+%3A%3D+gen_random_uuid%28%29%3B+email_uuid+%3A%3D+gen_random_uuid%28%29%3B+template_uuid+%3A%3D+gen_random_uuid%28%29%3B+bug_uuid+%3A%3D+gen_random_uuid%28%29%3B++status_id+%3A%3D+%28i+%25+4%29+%2B+1%3B++INSERT+INTO+tbl_crm_accounts+%28id%2C+name%2C+date_entered%2C+date_modified%2C+modified_user_id%2C+created_by%2C++description%2C+deleted%2C+assigned_user_id%2C+account_type%2C+industry%2C+annual_revenue%2C++phone_fax%2C+billing_address_street%2C+billing_address_city%2C+billing_address_state%2C++billing_address_postalcode%2C+billing_address_country%2C+rating%2C+phone_office%2C+++phone_alternate%2C+website%2C+ownership%2C+employees%2C+ticker_symbol%2C+shipping_address_street%2C+shipping_address_city%2C+shipping_address_state%2C++shipping_address_postalcode%2C+shipping_address_country%2C+parent_id%2C+sic_code%2C++campaign_id%2C+status%29++VALUES+%28account_uuid%2C+%27Company+%27+%7C%7C+i%2C+NOW%28%29%2C+NOW%28%29%2C+user_uuid%2C+user_uuid%2C+NULL%2C+FALSE%2C+user_uuid%2C++%27Customer%27%2C+%27Technology%27%2C+NULL%2C+NULL%2C+%27Street+%27+%7C%7C+i%2C+%27City+%27+%7C%7C+i%2C+%27State+%27+%7C%7C+i%2C+%27100%27+%7C%7C+i%2C+++%27Country+%27+%7C%7C+i%2C+NULL%2C+%27%28123%29+456-789%27+%7C%7C+i%2C+NULL%2C+%27www.company%27+%7C%7C+i+%7C%7C+%27.com%27%2C+NULL%2C+NULL%2C+++NULL%2C+%27Street+%27+%7C%7C+i%2C+%27City+%27+%7C%7C+i%2C+%27State+%27+%7C%7C+i%2C+%27100%27+%7C%7C+i%2C+%27Country+%27+%7C%7C+i%2C+NULL%2C+NULL%2C+NULL%2C+status_id%29%3B+INSERT+INTO+tbl_calls+%28id%2C+name%2C+date_entered%2C+date_modified%2C+modified_user_id%2C+created_by%2C+description%2C+deleted%2C+assigned_user_id%2C+duration_hours%2C+duration_minutes%2C++date_start%2C+date_end%2C+parent_type%2C+status%2C+direction%2C+parent_id%2C+reminder_time%2C+outlook_id%29+VALUES+%28call_uuid%2C+%27Call+%27+%7C%7C+i%2C+NOW%28%29+-+INTERVAL+%272+days%27%2C+NOW%28%29%2C+user_uuid%2C+user_uuid%2C+NULL%2C+FALSE%2C+user_uuid%2C++1%2C+30%2C+NOW%28%29%2C+NOW%28%29+%2B+INTERVAL+%2730+minutes%27%2C+%27Accounts%27%2C+%27Planned%27%2C+%27Outbound%27%2C+account_uuid%2C+-1%2C+NULL%29%3B++INSERT+INTO+tbl_product+%28id%2C+name%2C+description%2C+price%2C+quantity%29+VALUES+%28product_uuid%2C+%27Product+%27+%7C%7C+i%2C+%27Description+for+product+%27+%7C%7C+i%2C+9.99%2C+100%29%3B++INSERT+INTO+tbl_email_lists+%28id%2C+email_address%2C+email_address_caps%2C+opt_out%2C+date_created%29+VALUES+%28email_uuid%2C+%27user%27+%7C%7C+i+%7C%7C+%27%40securecrm.com%27%2C+%27USER%27+%7C%7C+i+%7C%7C+%27%40securecrm.COM%27%2C+FALSE%2C+NOW%28%29%29%3B++INSERT+INTO+tbl_marketing_template+%28id%2C+subject%2C+body%29++VALUES+%28template_uuid%2C+%27Marketing+Subject+%27+%7C%7C+i%2C+%27Marketing+body+content+for+%27+%7C%7C+i%29%3B++INSERT+INTO+tbl_marketing_campaign+%28email_id%2C+template_id%2C+campaign_date%29++VALUES+%28email_uuid%2C+template_uuid%2C+NOW%28%29+%2B+INTERVAL+%2710+days%27%29%3B++INSERT+INTO+tbl_bugs+%28id%2C+name%2C+date_entered%2C+date_modified%2C+modified_user_id%2C+created_by%2C+++description%2C+deleted%2C+assigned_user_id%2C+bug_number%2C+type%2C+status%2C+priority%2C+++resolution%2C+work_log%2C+found_in_release%2C+fixed_in_release%2C+source%2C+product_category%29++VALUES+%28bug_uuid%2C+%27Bug+%27+%7C%7C+i%2C+NOW%28%29+-+INTERVAL+%272+days%27%2C+NOW%28%29%2C+user_uuid%2C+user_uuid%2C+NULL%2C+FALSE%2C+user_uuid%2C++i%2C+NULL%2C+%27Assigned%27%2C+%27Medium%27%2C+NULL%2C+NULL%2C+NULL%2C+NULL%2C+NULL%2C+NULL%29%3B+END+LOOP%3B+END+%24%24%3B', '[Postgresql] CRM demo tables setup script', 'postgres', 'Script to setup crm tables in postgres', 1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type, query_description, query_loop, video_link) VALUES (DEFAULT, 35, 'Setup', 'DO+%24%24+DECLARE+dbname+text+%3A%3D+%27crm%3B%3B+BEGIN+IF+NOT+EXISTS+%28SELECT+1+FROM+pg_roles+WHERE+rolname+%3D+%27john%27%29+THEN+CREATE+ROLE+john+WITH+LOGIN+NOCREATEDB+NOCREATEROLE+NOBYPASSRLS+CONNECTION+LIMIT+-1+PASSWORD+%27ChangeMe%21%27%3B+END+IF%3B+IF+NOT+EXISTS+%28SELECT+1+FROM+pg_roles+WHERE+rolname+%3D+%27jason%27%29+THEN+CREATE+ROLE+jason+WITH+LOGIN+NOCREATEDB+NOCREATEROLE+NOBYPASSRLS+CONNECTION+LIMIT+-1+PASSWORD+%27ChangeMe%21%27%3B+END+IF%3B+IF+NOT+EXISTS+%28SELECT+1+FROM+pg_roles+WHERE+rolname+%3D+%27polly%27%29+THEN+CREATE+ROLE+polly+WITH+LOGIN+SUPERUSER+CREATEDB+CREATEROLE+INHERIT+REPLICATION+BYPASSRLS+CONNECTION+LIMIT+-1+PASSWORD+%27ChangeMe%21%27%3B+END+IF%3B+IF+NOT+EXISTS+%28SELECT+1+FROM+pg_roles+WHERE+rolname+%3D+%27liher%27%29+THEN+CREATE+ROLE+liher+WITH+LOGIN+SUPERUSER+CREATEDB+CREATEROLE+INHERIT+REPLICATION+BYPASSRLS+CONNECTION+LIMIT+-1+PASSWORD+%27ChangeMe%21%27%3B+END+IF%3B++EXECUTE+format%28%27GRANT+CONNECT+ON+DATABASE+%25I+TO+john%2C+jason%27%2C+dbname%29%3B+GRANT+USAGE+ON+SCHEMA+public+TO+john%2C+jason%3B+GRANT+SELECT%2C+INSERT%2C+DELETE+ON+ALL+TABLES+IN+SCHEMA+public+TO+john%2C+jason%3B+GRANT+EXECUTE+ON+ALL+FUNCTIONS+IN+SCHEMA+public+TO+john%2C+jason%3B+ALTER+DEFAULT+PRIVILEGES+IN+SCHEMA+public+GRANT+SELECT%2C+INSERT%2C+DELETE+ON+TABLES+TO+john%2C+jason%3B+ALTER+DEFAULT+PRIVILEGES+IN+SCHEMA+public+GRANT+EXECUTE+ON+FUNCTIONS+TO+john%2C+jason%3B+END+%24%24%3B', '[Postgresql] CRM demo users setup script', 'postgres', 'Script to setup crm tables in postgres', 1, '');
---
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Select', 'CREATE+USER+%27tmp_ELLIOT0%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT0%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT1%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT1%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT2%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT2%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT3%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT3%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT4%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT4%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT5%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT5%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT6%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT6%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT7%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT7%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT8%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT8%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT9%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT9%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT10%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT10%27%40%27%25%27%3B', 'create_many_users', 'mysql',1,'');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Outlier', 'DROP+USER+%27tmp_ELLIOT0%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT1%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT2%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT3%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT4%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT5%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT6%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT7%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT8%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT9%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT10%27%40%27%25%27+%3B', 'delete_many_users', 'mysql',1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Outlier', 'select+*+from+tbl_crm_accounts%3B', '250_new_user_select', 'mysql',1,'');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Outlier', 'CREATE+TABLE+tmp_tbl_product+%28id+varchar%2825%29+NOT+NULL%2Cname+varchar%28150%29+DEFAULT+NULL%2C+description+text%2C+price+DECIMAL%2810%2C2%29%2C+quantity+INT+DEFAULT+%270%27%2C+PRIMARY+KEY+%28id%29%29+ENGINE%3DMyISAM+DEFAULT+CHARSET%3Dutf8%3B%0ADROP+TABLE+IF+EXISTS+tmp_tbl_product%3B', 'create_drop', 'mysql',1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Update', 'update+tbl_crm_accounts+set+name+%3D+%27up+B.H+Edwards+Inc%27+where+id+%3D+%27df61978a-f4cc-ff64-8de0-53e90f19a56a%27%3B%0Aupdate+tbl_product+set+name+%3D+%27up+Detergent%27+where+id+%3D+%27d67f8d9d%27%3B%0Aupdate+tbl_bugs+set+description+%3D+%27up+Error+occurs+while+running+count+query%27+where+id+%3D+%27e4f7505c-0a0e-f582-f406-53e90f8a5637%27%3B', 'user_update', 'mysql',1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Outlier', 'delete+from+tmp_deleteTable1%3B%0Adelete+from+tmp_deleteTable2%3B%0Adelete+from+tmp_deleteTable3%3B%0Adelete+from+tmp_deleteTable4%3B%0Adelete+from+tmp_deleteTable5%3B', 'user_delete', 'mysql',1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Outlier', 'select+*+from+tbl_crm_accounts%3B', 'user_select4', 'mysql',1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Outlier', 'select+*+from+tbl_crm_accounts_status%3B', 'user_select2', 'mysql',1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Outlier', 'select+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B%0Aselect+*+from+TestTable123%3B%0Adrop+table+TestTable123%3B%0Aselect+*+from+TestTable456%3B%0Adrop+table+TestTable456%3B%0Aselect+*+from+TestTable567%3B%0Adrop+table+TestTable567%3B%0Aselect+*+from+TestTable890%3B%0Adrop+table+TestTable890%3B%0Aselect+*+from+TestTable543%3B%0Adrop+table+TestTable543%3B%0Aselect+*+from+TestTable908%3B%0Adrop+table+TestTable908%3B', 'select_drop_on_non_existent', 'mysql',1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Outlier', 'select+*+from+tbl_calls%3B%0Aselect+*+from+tbl_email_lists%3B%0Aselect+*+from+tbl_crm_accounts%3B%0Aselect+*+from+tbl_crm_accounts_status%3B%0Aselect+*+from+tbl_email_lists%3B', 'user_select', 'mysql',1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Outlier', 'INSERT+INTO+tbl_crm_accounts+VALUES+%28%27df61978a-f4cc-ff64-8de0-53e90f19a56b%27%2C%27J.K.+Solutions%27%2C%272024-10-22+04%3A11%3A33%27%2C%272024-09-24+03%3A11%3A33%27%2C%27seed_will_id%27%2C%271%27%2CNULL%2C0%2C%27seed_max_id%27%2C%27Customer%27%2C%27Technology%27%2CNULL%2CNULL%2C%271715+Scott+Dr%27%2C%27Alabama%27%2C%27CA%27%2C%2714882%27%2C%27USA%27%2CNULL%2C%27%28847%29+706-6877%27%2CNULL%2C%27www.devim.edu%27%2CNULL%2CNULL%2CNULL%2C%271715+Scott+Dr%27%2C%27Alabama%27%2C%27CA%27%2C%2714882%27%2C%27USA%27%2CNULL%2CNULL%2CNULL%2C1%29%3B%0AINSERT+INTO+tbl_crm_accounts+VALUES+%28%27df61978a-f4cc-ff64-8de0-53e90f19a56a%27%2C%27B.H.+Edwards+Inc%27%2C%272024-09-22+03%3A11%3A33%27%2C%272024-09-24+03%3A11%3A33%27%2C%27seed_will_id%27%2C%271%27%2CNULL%2C0%2C%27seed_max_id%27%2C%27Customer%27%2C%27Technology%27%2CNULL%2CNULL%2C%271715+Scott+Dr%27%2C%27Alabama%27%2C%27CA%27%2C%2714882%27%2C%27USA%27%2CNULL%2C%27%28847%29+706-6877%27%2CNULL%2C%27www.devim.edu%27%2CNULL%2CNULL%2CNULL%2C%271715+Scott+Dr%27%2C%27Alabama%27%2C%27CA%27%2C%2714882%27%2C%27USA%27%2CNULL%2CNULL%2CNULL%2C1%29%3B%0AINSERT+INTO+tbl_calls+VALUES+%28%27e854b40d-414e-6c8d-d2b7-53e90f7b0f77%27%2C%27Left+a+message%27%2CDATE_SUB%28NOW%28%29%2C+INTERVAL+2+DAY%29%2CNOW%28%29%2C%271%27%2C%271%27%2CNULL%2C0%2C%27seed_max_id%27%2C0%2C30%2C%272014-12-28+09%3A30%3A00%27%2C%272014-12-28+10%3A00%3A00%27%2C%27Accounts%27%2C%27Planned%27%2C%27Outbound%27%2C%27df61978a-f4cc-ff64-8de0-53e90f19a56a%27%2C-1%2CNULL%29%3B%0AINSERT+INTO+tbl_product+VALUES+%28%27d67f8d9d%27%2C%27Detergent%27%2C%27Keep+the+clothes+cleaner+with+this+detergent%27%2C%274.80%27%2C10%29%3B%0AINSERT+INTO+tbl_email_lists+VALUES+%28%27d67f8d9d-7c28-00df-47f1-53e90f54066f%27%2C%27jim%40example.com%27%2C%27JIM%40EXAMPLE.COM%27%2C0%2CDATE_SUB%28NOW%28%29%2C+INTERVAL+2+DAY%29%29%3B', 'new_tmp_inserts', 'mysql',1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Outlier', 'select+*+from+tbl_marketing_campaign+where+id+%3D+99+or+1%3D1%3B', 'user_select_sql_injection', 'mysql',1, '');	
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Select', 'INSERT+INTO+tbl_crm_accounts_status+%28id%2C+status%29+values+%285%2C%27updated%27%29%2C%286%2C%27not+updated%27%29%3B%0AUPDATE+tbl_crm_accounts_status+set+status+%3D%27not+updated%27+where+id+%3D5%3B%0AUPDATE+tbl_crm_accounts_status+set+status+%3D%27updated%27+where+id+%3D6%3B%0ADELETE+FROM+tbl_crm_accounts_status+where+id+%3D+5%3B%0ADELETE+FROM+tbl_crm_accounts_status+where+id+%3D+6%3B', 'users_insert_update_delete_tbl_crm_accounts_status', 'mysql',1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Select', 'select+*+from+tbl_crm_accounts_status+%3B', 'users_select_from_tbl_crm_accounts_status', 'mysql',1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Select', 'select+*+from+tbl_crm_accounts_status%3B%0Aselect+*+from+tbl_bugs%3B%0Aselect+*+from+tbl_marketing_campaign%3B%0Aselect+*+from+tbl_email_lists%3B%0Aselect+*+from+tbl_product%3B%0Aselect+*+from+tbl_calls%3B%0Aselect+*+from+tbl_crm_accounts%3B%0Aselect+*+from+tbl_marketing_template%3B', 'users_select1', 'mysql',1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Update', 'create+table+T1%28loopId+int%2CsessionId+int%2CinsertId+int%2CtimeStamp+varchar%2832%29+%29%3B%0Acreate+index+T1+on+T1%28insertId%2CsessionId%29%3B%0Acreate+table+T2%28loopId+int%2CsessionId+int%2CinsertId+int%2CtimeStamp+varchar%2832%29+%29%3B%0Acreate+index+T2+on+T2%28insertId%2CsessionId%29%3B%0Acreate+table+T3%28loopId+int%2CsessionId+int%2CinsertId+int%2CtimeStamp+varchar%2832%29+%29%3B%0Acreate+index+T3+on+T3%28insertId%2CsessionId%29%3B%0Acreate+table+T4%28loopId+int%2CsessionId+int%2CinsertId+int%2CtimeStamp+varchar%2832%29+%29%3B%0Acreate+index+T4+on+T4%28insertId%2CsessionId%29%3B%0Acreate+table+T5%28loopId+int%2CsessionId+int%2CinsertId+int%2CtimeStamp+varchar%2832%29+%29%3B%0Acreate+index+T5+on+T5%28insertId%2CsessionId%29%3B%0Acreate+table+T6%28loopId+int%2CsessionId+int%2CinsertId+int%2CtimeStamp+varchar%2832%29+%29%3B%0Acreate+index+T6+on+T6%28insertId%2CsessionId%29%3B%0Acreate+table+T7%28loopId+int%2CsessionId+int%2CinsertId+int%2CtimeStamp+varchar%2832%29+%29%3B%0Acreate+index+T7+on+T7%28insertId%2CsessionId%29%3B%0Acreate+table+T8%28loopId+int%2CsessionId+int%2CinsertId+int%2CtimeStamp+varchar%2832%29+%29%3B%0Acreate+index+T8+on+T8%28insertId%2CsessionId%29%3B%0Acreate+table+T9%28loopId+int%2CsessionId+int%2CinsertId+int%2CtimeStamp+varchar%2832%29+%29%3B%0Acreate+index+T9+on+T9%28insertId%2CsessionId%29%3B%0Acreate+table+T10%28loopId+int%2CsessionId+int%2CinsertId+int%2CtimeStamp+varchar%2832%29+%29%3B%0Acreate+index+T10+on+T10%28insertId%2CsessionId%29%3B%0ADROP+INDEX+T1+ON+T1%3B%0ADROP+TABLE+IF+EXISTS+T1%3B%0ADROP+INDEX+T2+ON+T2%3B%0ADROP+TABLE+IF+EXISTS+T2%3B%0ADROP+INDEX+T3+ON+T3%3B%0ADROP+TABLE+IF+EXISTS+T3%3B%0ADROP+INDEX+T4+ON+T4%3B%0ADROP+TABLE+IF+EXISTS+T4%3B%0ADROP+INDEX+T5+ON+T5%3B%0ADROP+TABLE+IF+EXISTS+T5%3B%0ADROP+INDEX+T6+ON+T6%3B%0ADROP+TABLE+IF+EXISTS+T6%3B%0ADROP+INDEX+T7+ON+T7%3B%0ADROP+TABLE+IF+EXISTS+T7%3B%0ADROP+INDEX+T8+ON+T8%3B%0ADROP+TABLE+IF+EXISTS+T8%3B%0ADROP+INDEX+T9+ON+T9%3B%0ADROP+TABLE+IF+EXISTS+T9%3B%0ADROP+INDEX+T10+ON+T10%3B%0ADROP+TABLE+IF+EXISTS+T10%3B', 'users_create_drop', 'mysql',1, '');
INSERT INTO public.tb_query (id, fk_tb_databaseconnections_id, query_db_type, query_string, query_usecase, query_type,query_loop, video_link) VALUES (DEFAULT,35, 'Update', 'CREATE+USER+%27tmp_ELLIOT0%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT0%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT1%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT1%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT2%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT2%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT3%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT3%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT4%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT4%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT5%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT5%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT6%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT6%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT7%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT7%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT8%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT8%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT9%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT9%27%40%27%25%27%3B%0ACREATE+USER+%27tmp_ELLIOT10%27%40%27%25%27+IDENTIFIED+WITH+mysql_native_password+BY+%27guardium%27%3B%0AGRANT+ALL+ON+*.*+TO+%27tmp_ELLIOT10%27%40%27%25%27%3B%0A%0ADROP+USER+%27tmp_ELLIOT0%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT1%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT2%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT3%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT4%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT5%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT6%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT7%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT8%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT9%27%40%27%25%27+%3B%0ADROP+USER+%27tmp_ELLIOT10%27%40%27%25%27+%3B', 'many_user_create_drop', 'mysql',1, '');

INSERT INTO public.tb_query (id,fk_tb_databaseconnections_id,query_db_type,query_string,query_usecase,query_type,query_loop,query_description, video_link) VALUES 
(DEFAULT,35,'Malicious Procedure','%0Adrop+table+if+exists+account_groups%3B%0Acreate+table+account_groups%28ssn+varchar%2840%29%2C+first_name+varchar%2840%29%2C++last_name+varchar%2840%29%2C+group_name+varchar%2850%29%29%3B%0A%0A%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%27345278446%27%2C%27Thu%27%2C+%27Lett%27%2C%27Gold%27%29%3B%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%27543987556%27%2C%27Leah%27%2C+%27Calvo%27%2C%27Silver%27%29%3B%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%27778524395%27%2C%27Boris%27%2C+%27Fay%27%2C%27Platinum%27%29%3B%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%27125948637%27%2C%27Johana%27%2C+%27Relyea%27%2C%27Blue%27%29%3B%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%276544932875%27%2C%27Debi%27%2C%27Winford%27%2C+%27Silver%27%29%3B%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%27193756824%27%2C%27Vernice%27%2C+%27Corbin%27%2C%27Gold%27%29%3B+%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%27485266791%27%2C%27Perry%27%2C%27Silver%27%29%3B%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%275978824631%27%2C%27Bella%27%2C%27Gastelum%27%2C%27Blue%27%29%3B%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%27164959728%27%2C%27Jordon%27%2C%27Polito%27%2C%27Silver%27%29%3B%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%27346596782%27%2C%27Irena%27%2C%27Bach%27%2C%27Blue%27%29%3B%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%27862495377%27%2C%27Ofir%27%2C%27Levy%27%2C%27Gold%27%29%3B%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%27953463735%27%2C%27Mara%27%2C%27Sherrard%27%2C%27Blue%27%29%3B%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%27613249578%27%2C%27Craig%27%2C%27Fullmer%27%2C%27Blue%27%29%3B%0Ainsert+into+account_groups%28ssn+%2C+first_name%2C+last_name%2C+group_name%29+values+%28%27555196666%27%2C%27Mary%27%2C+%27Popkins%27%2C+%27Gold%27%29%3B%0Aselect+*+from+account_groups%3B%0A%0ADROP+PROCEDURE+IF+EXISTS+move_to_silver%3B%0ACREATE+PROCEDURE+move_to_silver+%28IN+user_id+VARCHAR%28255%29%29+BEGIN+++++UPDATE+account_groups++++++SET+group_name+%3D+%27Silver%27++++++WHERE+ssn+%3D+user_id%3B+END%3B%0A%0ADROP+PROCEDURE+IF+EXISTS+move_to_gold%3B%0ACREATE+PROCEDURE+move_to_gold+%28IN+user_id+VARCHAR%28255%29%29+BEGIN+++++UPDATE+account_groups++++++SET+group_name+%3D+%27Gold%27++++++WHERE+ssn+%3D+user_id%3B+END%3B%0A%0ADROP+PROCEDURE+IF+EXISTS+move_to_platinum%3B%0ACREATE+PROCEDURE+move_to_platinum+%28IN+user_id+VARCHAR%28255%29%29+BEGIN+++++UPDATE+account_groups++++++SET+group_name+%3D+%27Platinum%27++++++WHERE+ssn+%3D+user_id%3B+END%3B%0A','Create STP Account Groups ','mysql',1,'- Execute as Polly
- Create Table
- Insert values
- Create Stored Procedures', 'https://jasoneflood.github.io/ScenarioLaunchPlatformSupport/video=maliciousProcedures.mp4')
,(DEFAULT,35,'Malicious Procedure','select+*+from+account_groups%3B%0A%0ACALL+move_to_gold%28%27345278446%27%29%3B%0ACALL+move_to_silver%28%27485266791%27%29%3B%0ACALL+move_to_silver%28%27543987556%27%29%3B%0ACALL+move_to_platinum%28%27555196666%27%29%3B%0ACALL+move_to_gold%28%27193756824%27%29%3B%0ACALL+move_to_platinum%28%27555196666%27%29%3B%0A%0Aselect+*+from+account_groups%3B%0A','Call STP Account Groups','mysql',1,'- Execute as Jason or John
- Call Stored Procedures', 'https://jasoneflood.github.io/ScenarioLaunchPlatformSupport/video=maliciousProcedures.mp4')
,(DEFAULT,35,'Malicious Procedure','DROP+PROCEDURE+IF+EXISTS+move_to_platinum%3B%0ACREATE+PROCEDURE+move_to_platinum+%28IN+user_id+VARCHAR%28255%29%29+BEGIN+++++DROP+TABLE+account_groups+%3B+END%3B','Malicious STP Update Account Groups','mysql',1,'- Execute as Liher
- Replace Stored Procedures (drop table)', 'https://jasoneflood.github.io/ScenarioLaunchPlatformSupport/video=maliciousProcedures.mp4')
;

INSERT INTO public.tb_query (id,fk_tb_databaseconnections_id,query_db_type,query_string,query_usecase,query_type,query_loop,query_description,video_link) VALUES (DEFAULT,35,'Policy Violation','create+table+if+not+exists+testTable+%28text+varchar%28100%29%2C+id+int%29%3B%0Ainsert+into+testTable+%28text%29+values+%28%27xxx%27%29%3B%0Ainsert+into+testTable+%28text%29+values+%28%27yyy%27%29%3B%0Ainsert+into+testTable%28text%2C+id%29+values+%28%27%3CIMG+SRC%3Djavascript%3Aalert%28%26quot%3BXSS%26quot%3B%29%3E%27%2C+3%29%3B%0Ainsert+into+testTable%28text%2Cid%29+values%28%27%3CBODY+onload%21%23%24%25%26%28%29*%7E%2B-_.%2C%3A%3B%3F%40%5B%2F%7C%5C%5C%5D%5E%60%3Dalert%28%5C%22XSS%5C%22%29%3E%27%2C7%29%3B%0Aselect+*+from+testTable+where+text%3D%27%3CIMG+SRC%3Djavascript%3Aalert%28%26quot%3BXSS%26quot%3B%29%3E%27%3B%0Adelete+from+testTable+where+text%3D%27%3CBODY+onload%21%23%24%25%26%28%29*%7E%2B-_.%2C%3A%3B%3F%40%5B%2F%7C%5C%5C%5D%5E%60%3Dalert%28%5C%22XSS%5C%22%29%3E%27%3B%0Aselect+*+from+testTable+where+text%3D%2F*%27%3CIMG+SRC%3Djavascript%3Aalert%28%26quot%3BXSS%26quot%3B%29%3E%27*%2F%27xxx%27%3B%0Aselect+*+from+testTable+where+text%3D%2F*%27%3CIMG+SR*%2F%2F*C%3Djavascri%2F*pt%3Aale*%2F%2F*rt%28%26qu*%2F%2F*ot%3BX%2F*SS%26q*%2F%2F*uot%3B%29%3E%27*%2F%27xxx%27%3B','Cross-Site Scripting (XSS)','mysql',1,NULL, 'https://jasoneflood.github.io/ScenarioLaunchPlatformSupport/video=policyViolation.mp4');
INSERT INTO public.tb_query (id,fk_tb_databaseconnections_id,query_db_type,query_string,query_usecase,query_type,query_loop,query_description) VALUES (DEFAULT,35,'Eagle Eye','CREATE+USER+%27TEST00%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST00%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST01%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST01%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST02%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST02%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST03%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST03%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST04%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST04%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST05%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST05%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST06%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST06%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST07%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST07%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST08%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST08%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST09%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST09%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST10%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST10%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST11%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST11%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST12%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST12%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST13%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST13%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST14%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST14%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST15%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST15%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST16%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST16%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST17%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST17%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST18%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST18%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST19%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST19%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST20%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST20%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST21%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST21%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST22%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST22%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST23%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST23%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST24%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST24%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST25%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST25%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST26%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST26%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST27%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST27%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST28%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST28%27%40%27%25%27%3B%0A%0ACREATE+USER+%27TEST29%27%40%27%25%27+IDENTIFIED+BY+%27guardium%27%3B+%0AGRANT+ALL+PRIVILEGES+ON+crm.*+TO+%27TEST29%27%40%27%25%27%3B%0A%0A%0AFLUSH+PRIVILEGES%3B%0A','Create 30 privileged users','mysql',1,'');
INSERT INTO public.tb_query (id,fk_tb_databaseconnections_id,query_db_type,query_string,query_usecase,query_type,query_loop,query_description) VALUES (DEFAULT,35,'Eagle Eye','DROP+USER+%27TEST00%27%40%27%25%27%3B%0ADROP+USER+%27TEST01%27%40%27%25%27%3B%0ADROP+USER+%27TEST02%27%40%27%25%27%3B%0ADROP+USER+%27TEST03%27%40%27%25%27%3B%0ADROP+USER+%27TEST04%27%40%27%25%27%3B%0ADROP+USER+%27TEST05%27%40%27%25%27%3B%0ADROP+USER+%27TEST06%27%40%27%25%27%3B%0ADROP+USER+%27TEST07%27%40%27%25%27%3B%0ADROP+USER+%27TEST08%27%40%27%25%27%3B%0ADROP+USER+%27TEST09%27%40%27%25%27%3B%0ADROP+USER+%27TEST10%27%40%27%25%27%3B%0ADROP+USER+%27TEST11%27%40%27%25%27%3B%0ADROP+USER+%27TEST12%27%40%27%25%27%3B%0ADROP+USER+%27TEST13%27%40%27%25%27%3B%0ADROP+USER+%27TEST14%27%40%27%25%27%3B%0ADROP+USER+%27TEST15%27%40%27%25%27%3B%0ADROP+USER+%27TEST16%27%40%27%25%27%3B%0ADROP+USER+%27TEST17%27%40%27%25%27%3B%0ADROP+USER+%27TEST18%27%40%27%25%27%3B%0ADROP+USER+%27TEST19%27%40%27%25%27%3B%0ADROP+USER+%27TEST20%27%40%27%25%27%3B%0ADROP+USER+%27TEST21%27%40%27%25%27%3B%0ADROP+USER+%27TEST22%27%40%27%25%27%3B%0ADROP+USER+%27TEST23%27%40%27%25%27%3B%0ADROP+USER+%27TEST24%27%40%27%25%27%3B%0ADROP+USER+%27TEST25%27%40%27%25%27%3B%0ADROP+USER+%27TEST26%27%40%27%25%27%3B%0ADROP+USER+%27TEST27%27%40%27%25%27%3B%0ADROP+USER+%27TEST28%27%40%27%25%27%3B%0ADROP+USER+%27TEST29%27%40%27%25%27%3B%0AFLUSH+PRIVILEGES%3B','Drop 30 users','mysql',1,'');
INSERT INTO public.tb_query (id,fk_tb_databaseconnections_id,query_db_type,query_string,query_usecase,query_type,query_loop,query_description) VALUES (DEFAULT,35,'Eagle Eye','select+*+from+tbl_email_lists%3B%0Aselect+*+from+tbl_email_lists_bad%3B','Select and error','mysql',1,NULL);
INSERT INTO public.tb_query (id,fk_tb_databaseconnections_id,query_db_type,query_string,query_usecase,query_type,query_loop,query_description) VALUES (DEFAULT,35,'Eagle Eye','SHOW+DATABASES%3B%0ASELECT+SCHEMA_NAME+FROM+INFORMATION_SCHEMA.SCHEMATA%3B%0ASHOW+TABLES%3B%0ASELECT+TABLE_NAME+FROM+INFORMATION_SCHEMA.TABLES+%3B%0ASELECT+User%2C+Host+FROM+mysql.user%3B%0ASHOW+GRANTS%3B%0A','Show Info','mysql',1,NULL);
INSERT INTO public.tb_query (id,fk_tb_databaseconnections_id,query_db_type,query_string,query_usecase,query_type,query_loop,query_description) VALUES (DEFAULT,35,'Malicious Procedure','drop+table+if+exists+salary%3B%0Acreate+table+salary+%28ssn+varchar%2840%29%2C+first_name+varchar%2840%29%2C++last_name+varchar%2840%29%2C+base_sal+int%29%3B%0A%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%27345278446%27%2C%27Thu%27%2C+%27Lett%27%2C78000%29%3B%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%27543987556%27%2C%27Leah%27%2C+%27Calvo%27%2C95000%29%3B%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%27778524395%27%2C%27Boris%27%2C+%27Fay%27%2C120000%29%3B%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%27125948637%27%2C%27Johana%27%2C+%27Relyea%27%2C130000%29%3B%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%276544932875%27%2C%27Debi%27%2C%27Winford%27%2C+78000%29%3B%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%27193756824%27%2C%27Vernice%27%2C%27Corbin%27%2C97000%29%3B%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%27485266791%27%2C%27Perry%27%2C%27%27%2C150000%29%3B%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%275978824631%27%2C%27Bella%27%2C%27Gastelum%27%2C140000%29%3B%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%27164959728%27%2C%27Jordon%27%2C%27Polito%27%2C110000%29%3B%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%27346596782%27%2C%27Irena%27%2C%27Bach%27%2C79000%29%3B%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%27862495377%27%2C%27Ofir%27%2C%27Levy%27%2C125000%29%3B%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%27953463735%27%2C%27Mara%27%2C%27Sherrard%27%2C88000%29%3B%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%27613249578%27%2C%27Craig%27%2C%27Fullmer%27%2C92000%29%3B%0Ainsert+into+salary+%28ssn+%2C+first_name%2C+last_name%2C+base_sal%29+values%28%27555196666%27%2C%27Mary%27%2C%27Popkins%27%2C92000%29%3B%0ASELECT+*+FROM+salary%3B%0A%0ADROP+PROCEDURE+UPDT_SALARY%3B%0ACREATE+PROCEDURE+UPDT_SALARY%28IN+USER_ID+VARCHAR%28255%29%2C+IN+RAISE+DECIMAL%2810%2C2%29%29+BEGIN+UPDATE+salary+SET+BASE_SAL+%3D+BASE_SAL+%2B+RAISE+WHERE+ssn+%3D+USER_ID%3B+END%3B%0A','Create STP Salary ','mysql',1,'- Create Table
- Insert values
- Create Stored Procedures');

INSERT INTO public.tb_query (id,fk_tb_databaseconnections_id,query_db_type,query_string,query_usecase,query_type,query_loop,query_description) VALUES (DEFAULT,35,'Select','SELECT+*+FROM+sales%3B%0A%0ACALL+INSERT_SALES+%28%27MARI%27%2C+5600.00%29%3B%0ACALL+INSERT_SALES+%28%27BOB%27%2C+5340.00%29%3B%0ACALL+INSERT_SALES+%28%27SEBASTIAN%27%2C+120.00%29%3B%0ACALL+INSERT_SALES+%28%27GREG%27%2C+2200.00%29%3B%0ACALL+INSERT_SALES+%28%27LULU%27%2C+5320.00%29%3B%0ACALL+INSERT_SALES+%28%27LINDA%27%2C+5179.00%29%3B%0A%0ASELECT+*+FROM+sales%3B','Call STP Sales','mysql',1,'- Call Stored Procedures');
INSERT INTO public.tb_query (id,fk_tb_databaseconnections_id,query_db_type,query_string,query_usecase,query_type,query_loop,query_description) VALUES (DEFAULT,35,'Malicious Procedure','DROP+PROCEDURE+IF+EXISTS+INSERT_SALES%3B%0ACREATE+PROCEDURE+INSERT_SALES+%28IN+PARM1+VARCHAR%28255%29%2C+IN+PARM2+DECIMAL%2810%2C2%29%29+BEGIN+++++DELETE+FROM+sales%3B+END%3B','Malicious STP Update Sales','db2',1,'- Replace Stored Procedures with malicious query (delete all entries from sales table)');
INSERT INTO public.tb_query (id,fk_tb_databaseconnections_id,query_db_type,query_string,query_usecase,query_type,query_loop,query_description) VALUES (DEFAULT,35,'Malicious Procedure','SELECT+*+FROM+salary%3B%0A%0ACALL+UPDT_SALARY%28%27345278446%27%2C+5000%29%3B%0ACALL+UPDT_SALARY%28%27862495377%27%2C+1000%29%3B%0ACALL+UPDT_SALARY%28%27953463735%27%2C+2000%29%3B%0ACALL+UPDT_SALARY%28%27613249578%27%2C+3000%29%3B%0ACALL+UPDT_SALARY%28%27555196666%27%2C+4000%29%3B%0A%0ASELECT+*+FROM+salary%3B%0A','Call STP Salary','mysql',1,'- Call Stored Procedures');


ALTER SEQUENCE tb_query_id_seq RESTART WITH 500;
	
	
CREATE FUNCTION function_login(var_username TEXT, var_password TEXT)
returns table (
		id integer,
        firstname varchar,
        surname varchar,
        email varchar,
        username varchar,
        active varchar,
		authlevel integer
        
	)
    AS $$ 

    BEGIN
    RAISE NOTICE 'Username:  % Password: %' , var_username, var_password;
    
   	return query 
        select
		    tb_user.id,
            tb_user.firstname,
            tb_user.surname,
            tb_user.email,
            tb_user.username,
            tb_user.active,
		    tb_user.authlevel
		from
			tb_user
        where tb_user.username = var_username AND tb_user.password = var_password;
END
$$  LANGUAGE plpgsql;

