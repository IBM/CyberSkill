<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PQC Unified Platform - Quantum-Safe Security Suite</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <span class="logo-icon">üîê</span>
                <h1>PQC Unified Platform</h1>
            </div>
            <nav class="nav">
                <button class="nav-btn active" data-tab="dashboard">
                    <span class="icon">üìä</span> Dashboard
                </button>
                <button class="nav-btn" data-tab="scanner">
                    <span class="icon">üîç</span> Domain Scanner
                </button>
                <button class="nav-btn" data-tab="encryptor">
                    <span class="icon">üìÅ</span> File Encryptor
                </button>
                <button class="nav-btn" data-tab="chat">
                    <span class="icon">üí¨</span> Secure Chat
                </button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Dashboard Tab -->
            <section id="dashboard-tab" class="tab-content active">
                <div class="section-header">
                    <h2>üìä Platform Dashboard</h2>
                    <p>Overview of all PQC platform activities and statistics</p>
                </div>

                <!-- Statistics Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üîç</div>
                        <div class="stat-content">
                            <h3 id="total-scans">0</h3>
                            <p>Total Scans</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üõ°Ô∏è</div>
                        <div class="stat-content">
                            <h3 id="pqc-enabled">0</h3>
                            <p>PQC Enabled</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìÅ</div>
                        <div class="stat-content">
                            <h3 id="encrypted-files">0</h3>
                            <p>Encrypted Files</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí¨</div>
                        <div class="stat-content">
                            <h3 id="chat-sessions">0</h3>
                            <p>Chat Sessions</p>
                        </div>
                    </div>
                </div>

                <!-- Risk Distribution -->
                <div class="card">
                    <div class="card-header">
                        <h3>üéØ Security Risk Distribution</h3>
                    </div>
                    <div class="card-body">
                        <div class="risk-chart">
                            <div class="risk-bar">
                                <div class="risk-label">Low Risk</div>
                                <div class="risk-progress">
                                    <div id="low-risk-bar" class="risk-fill risk-low" style="width: 0%"></div>
                                </div>
                                <div id="low-risk-count" class="risk-count">0</div>
                            </div>
                            <div class="risk-bar">
                                <div class="risk-label">Medium Risk</div>
                                <div class="risk-progress">
                                    <div id="medium-risk-bar" class="risk-fill risk-medium" style="width: 0%"></div>
                                </div>
                                <div id="medium-risk-count" class="risk-count">0</div>
                            </div>
                            <div class="risk-bar">
                                <div class="risk-label">High Risk</div>
                                <div class="risk-progress">
                                    <div id="high-risk-bar" class="risk-fill risk-high" style="width: 0%"></div>
                                </div>
                                <div id="high-risk-count" class="risk-count">0</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Security Score Gauge -->
                <div class="card">
                    <div class="card-header">
                        <h3>üéØ Overall Security Score</h3>
                    </div>
                    <div class="card-body">
                        <div class="gauge-container">
                            <svg class="gauge-svg" viewBox="0 0 200 120">
                                <path class="gauge-background" d="M 20 100 A 80 80 0 0 1 180 100" fill="none" stroke="#e0e0e0" stroke-width="20" stroke-linecap="round"/>
                                <path id="gauge-fill" class="gauge-fill" d="M 20 100 A 80 80 0 0 1 180 100" fill="none" stroke="#4CAF50" stroke-width="20" stroke-linecap="round" stroke-dasharray="251.2" stroke-dashoffset="251.2"/>
                                <text id="gauge-score" x="100" y="90" text-anchor="middle" font-size="32" font-weight="bold" fill="#333">0</text>
                                <text x="100" y="110" text-anchor="middle" font-size="12" fill="#666">Security Score</text>
                            </svg>
                            <div class="gauge-legend">
                                <span class="gauge-label">üî¥ Critical (0-40)</span>
                                <span class="gauge-label">üü° Warning (41-70)</span>
                                <span class="gauge-label">üü¢ Good (71-100)</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Algorithm Usage & TLS Distribution -->
                <div class="two-column">
                    <div class="card">
                        <div class="card-header">
                            <h3>üîê Algorithm Usage Distribution</h3>
                        </div>
                        <div class="card-body">
                            <canvas id="algorithm-chart" width="300" height="300"></canvas>
                            <div id="algorithm-legend" class="chart-legend"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>üîí TLS Version Distribution</h3>
                        </div>
                        <div class="card-body">
                            <canvas id="tls-chart" width="300" height="300"></canvas>
                            <div id="tls-legend" class="chart-legend"></div>
                        </div>
                    </div>
                </div>

                <!-- Real-time Activity Timeline -->
                <div class="card">
                    <div class="card-header">
                        <h3>‚ö° Real-time Activity Timeline</h3>
                        <button id="clear-timeline-btn" class="btn btn-secondary btn-sm">Clear</button>
                    </div>
                    <div class="card-body">
                        <div id="activity-timeline" class="activity-timeline"></div>
                    </div>
                </div>

                <!-- Drill-down Modal -->
                <div id="drilldown-modal" class="modal">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 id="modal-title">Details</h2>
                            <span class="modal-close">&times;</span>
                        </div>
                        <div class="modal-body" id="modal-body">
                            <!-- Dynamic content will be inserted here -->
                        </div>
                    </div>
                </div>

                <!-- Tooltip for hover -->
                <div id="chart-tooltip" class="chart-tooltip"></div>

                <!-- Performance Metrics -->
                <div class="two-column">
                    <div class="card">
                        <div class="card-header">
                            <h3>‚ö° Encryption Performance</h3>
                        </div>
                        <div class="card-body">
                            <div class="metric-item">
                                <div class="metric-label">Average Encryption Time</div>
                                <div class="metric-value" id="avg-encrypt-time">0 ms</div>
                                <div class="metric-bar">
                                    <div id="encrypt-time-bar" class="metric-fill" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">Throughput</div>
                                <div class="metric-value" id="throughput">0 MB/s</div>
                                <div class="metric-bar">
                                    <div id="throughput-bar" class="metric-fill" style="width: 0%"></div>
                                </div>
                            </div>
                            <div class="metric-item">
                                <div class="metric-label">Key Exchange Speed</div>
                                <div class="metric-value" id="key-exchange-speed">0 ms</div>
                                <div class="metric-bar">
                                    <div id="key-exchange-bar" class="metric-fill" style="width: 0%"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>üìä File Size Distribution</h3>
                        </div>
                        <div class="card-body">
                            <div class="histogram">
                                <div class="histogram-bar">
                                    <div class="histogram-label">< 1MB</div>
                                    <div class="histogram-fill-container">
                                        <div id="size-bar-1" class="histogram-fill" style="width: 0%"></div>
                                    </div>
                                    <div id="size-count-1" class="histogram-count">0</div>
                                </div>
                                <div class="histogram-bar">
                                    <div class="histogram-label">1-10MB</div>
                                    <div class="histogram-fill-container">
                                        <div id="size-bar-2" class="histogram-fill" style="width: 0%"></div>
                                    </div>
                                    <div id="size-count-2" class="histogram-count">0</div>
                                </div>
                                <div class="histogram-bar">
                                    <div class="histogram-label">10-50MB</div>
                                    <div class="histogram-fill-container">
                                        <div id="size-bar-3" class="histogram-fill" style="width: 0%"></div>
                                    </div>
                                    <div id="size-count-3" class="histogram-count">0</div>
                                </div>
                                <div class="histogram-bar">
                                    <div class="histogram-label">> 50MB</div>
                                    <div class="histogram-fill-container">
                                        <div id="size-bar-4" class="histogram-fill" style="width: 0%"></div>
                                    </div>
                                    <div id="size-count-4" class="histogram-count">0</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="two-column">
                    <div class="card">
                        <div class="card-header">
                            <h3>üïí Recent Scans</h3>
                        </div>
                        <div class="card-body">
                            <div id="dashboard-recent-scans"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h3>üìà Platform Health</h3>
                        </div>
                        <div class="card-body">
                            <div class="health-item">
                                <span class="health-label">Scanner Service</span>
                                <span class="health-status health-ok">‚úì Online</span>
                            </div>
                            <div class="health-item">
                                <span class="health-label">File Encryptor</span>
                                <span class="health-status health-ok">‚úì Online</span>
                            </div>
                            <div class="health-item">
                                <span class="health-label">Chat Service</span>
                                <span class="health-status health-ok">‚úì Online</span>
                            </div>
                            <div class="health-item">
                                <span class="health-label">Cryptography</span>
                                <span class="health-status health-ok">‚úì ML-KEM-768</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Domain Scanner Tab -->
            <section id="scanner-tab" class="tab-content">
                <div class="section-header">
                    <h2>üîç Domain Scanner</h2>
                    <p>Scan domains for TLS/PQC certificate information and security analysis</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>Scan Domain</h3>
                    </div>
                    <div class="card-body">
                        <div class="input-group">
                            <input type="text" id="domain-input" placeholder="Enter domain (e.g., google.com)" class="input-field">
                            <button id="scan-btn" class="btn btn-primary">Scan Domain</button>
                        </div>
                        <div id="scan-status" class="status-message"></div>
                    </div>
                </div>

                <div id="scan-results" class="results-container" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h3>Scan Results</h3>
                        </div>
                        <div class="card-body">
                            <div id="scan-result-content"></div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>Recent Scans</h3>
                    </div>
                    <div class="card-body">
                        <div id="recent-scans"></div>
                    </div>
                </div>
            </section>

            <!-- File Encryptor Tab -->
            <section id="encryptor-tab" class="tab-content">
                <div class="section-header">
                    <h2>üìÅ File Encryptor</h2>
                    <p>Encrypt and decrypt files using quantum-safe ML-KEM-768 + AES-256-GCM</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>Encrypt File</h3>
                    </div>
                    <div class="card-body">
                        <div class="file-upload-area" id="encrypt-drop-zone">
                            <input type="file" id="file-input" style="display: none;">
                            <div class="upload-icon">üì§</div>
                            <p>Drag & drop file here or click to browse</p>
                            <button id="browse-btn" class="btn btn-secondary">Browse Files</button>
                        </div>
                        
                        <div class="encryption-options">
                            <h4>Encryption Options</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="kem-algorithm">ML-KEM Variant:</label>
                                    <select id="kem-algorithm" class="input-field">
                                        <option value="ML-KEM-512">ML-KEM-512 (Security Level 1)</option>
                                        <option value="ML-KEM-768" selected>ML-KEM-768 (Security Level 3) ‚úì</option>
                                        <option value="ML-KEM-1024">ML-KEM-1024 (Security Level 5)</option>
                                    </select>
                                    <small>Currently using Java 24 native ML-KEM-768</small>
                                </div>
                                <div class="form-group">
                                    <label for="aes-key-size">AES Key Size:</label>
                                    <select id="aes-key-size" class="input-field">
                                        <option value="128">AES-128-GCM</option>
                                        <option value="192">AES-192-GCM</option>
                                        <option value="256" selected>AES-256-GCM ‚úì</option>
                                    </select>
                                    <small>Symmetric encryption for file data</small>
                                </div>
                            </div>
                        </div>
                        
                        <div id="encrypt-status" class="status-message"></div>
                    </div>
                </div>

                <div class="two-column">

                    <div class="card">
                        <div class="card-header">
                            <h3>Decrypt File</h3>
                        </div>
                        <div class="card-body">
                            <select id="encrypted-files-list" class="input-field">
                                <option value="">Select encrypted file...</option>
                            </select>
                            <button id="decrypt-btn" class="btn btn-primary">Decrypt File</button>
                            <div id="decrypt-status" class="status-message"></div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3>Encrypted Files</h3>
                        <button id="refresh-files-btn" class="btn btn-secondary btn-sm">Refresh</button>
                    </div>
                    <div class="card-body">
                        <div id="file-list"></div>
                    </div>
                </div>

                <!-- Encryption Records Dashboard -->
                <div class="card">
                    <div class="card-header">
                        <h3>üìä Encryption Statistics</h3>
                    </div>
                    <div class="card-body">
                        <div class="stats-row">
                            <div class="mini-stat-card">
                                <div class="mini-stat-icon">üìÅ</div>
                                <div class="mini-stat-content">
                                    <h4 id="total-encrypted-files">0</h4>
                                    <p>Total Encrypted</p>
                                </div>
                            </div>
                            <div class="mini-stat-card">
                                <div class="mini-stat-icon">üíæ</div>
                                <div class="mini-stat-content">
                                    <h4 id="total-encrypted-size">0 MB</h4>
                                    <p>Total Size</p>
                                </div>
                            </div>
                            <div class="mini-stat-card">
                                <div class="mini-stat-icon">üîê</div>
                                <div class="mini-stat-content">
                                    <h4>ML-KEM-768</h4>
                                    <p>Algorithm</p>
                                </div>
                            </div>
                            <div class="mini-stat-card">
                                <div class="mini-stat-icon">üõ°Ô∏è</div>
                                <div class="mini-stat-content">
                                    <h4>AES-256-GCM</h4>
                                    <p>Encryption</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="encryption-timeline">
                            <h4>Recent Encryption Activity</h4>
                            <div id="encryption-activity"></div>
                        </div>
                    </div>
                </div>

                <!-- Algorithm Comparison -->
                <div class="card">
                    <div class="card-header">
                        <h3>üìä Algorithm Comparison</h3>
                    </div>
                    <div class="card-body">
                        <div class="comparison-grid">
                            <div class="comparison-item">
                                <h4>üîë ML-KEM-512</h4>
                                <div class="comparison-details">
                                    <p><strong>Security Level:</strong> 1 (128-bit)</p>
                                    <p><strong>Public Key:</strong> 800 bytes</p>
                                    <p><strong>Ciphertext:</strong> 768 bytes</p>
                                    <p><strong>Use Case:</strong> IoT, embedded systems</p>
                                </div>
                            </div>
                            <div class="comparison-item active">
                                <h4>üõ°Ô∏è ML-KEM-768 ‚úì</h4>
                                <div class="comparison-details">
                                    <p><strong>Security Level:</strong> 3 (192-bit)</p>
                                    <p><strong>Public Key:</strong> 1,184 bytes</p>
                                    <p><strong>Ciphertext:</strong> 1,088 bytes</p>
                                    <p><strong>Use Case:</strong> General purpose (recommended)</p>
                                </div>
                            </div>
                            <div class="comparison-item">
                                <h4>üîê ML-KEM-1024</h4>
                                <div class="comparison-details">
                                    <p><strong>Security Level:</strong> 5 (256-bit)</p>
                                    <p><strong>Public Key:</strong> 1,568 bytes</p>
                                    <p><strong>Ciphertext:</strong> 1,568 bytes</p>
                                    <p><strong>Use Case:</strong> Maximum security</p>
                                </div>
                            </div>
                        </div>
                        <div class="info-box">
                            <p><strong>Note:</strong> This platform currently uses Java 24's native ML-KEM-768 implementation.
                            ML-KEM (Module-Lattice-Based Key Encapsulation Mechanism) is the NIST-standardized version of Kyber,
                            providing quantum-resistant key exchange.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Secure Chat Tab -->
            <section id="chat-tab" class="tab-content">
                <div class="section-header">
                    <h2>üí¨ Secure Messaging</h2>
                    <p>Real-time encrypted chat with PQC key exchange and debug panel</p>
                </div>

                <div id="chat-setup" class="card">
                    <div class="card-header">
                        <h3>Create/Join Session</h3>
                    </div>
                    <div class="card-body">
                        <div class="input-group">
                            <input type="text" id="session-id" placeholder="Session ID" class="input-field">
                            <input type="text" id="username" placeholder="Username" class="input-field">
                            <button id="join-session-btn" class="btn btn-primary">Join Session</button>
                        </div>
                        <div id="chat-status" class="status-message"></div>
                    </div>
                </div>

                <!-- Key Exchange Visualization -->
                <div id="key-exchange-panel" class="card" style="display: none;">
                    <div class="card-header">
                        <h3>üîê PQC Key Exchange Visualization</h3>
                    </div>
                    <div class="card-body">
                        <div class="exchange-timeline">
                            <div class="timeline-step" id="step-1">
                                <div class="step-indicator">1</div>
                                <div class="step-content">
                                    <h4>Generate ML-KEM Key Pairs</h4>
                                    <p>Both users generate their ML-KEM-768 public/private key pairs</p>
                                    <div class="step-status" id="step-1-status">‚è≥ Pending</div>
                                </div>
                            </div>
                            <div class="timeline-step" id="step-2">
                                <div class="step-indicator">2</div>
                                <div class="step-content">
                                    <h4>Exchange Public Keys</h4>
                                    <p>Users exchange their public keys over the network</p>
                                    <div class="step-status" id="step-2-status">‚è≥ Pending</div>
                                </div>
                            </div>
                            <div class="timeline-step" id="step-3">
                                <div class="step-indicator">3</div>
                                <div class="step-content">
                                    <h4>Key Encapsulation</h4>
                                    <p>Each user encapsulates a shared secret using peer's public key</p>
                                    <div class="step-status" id="step-3-status">‚è≥ Pending</div>
                                </div>
                            </div>
                            <div class="timeline-step" id="step-4">
                                <div class="step-indicator">4</div>
                                <div class="step-content">
                                    <h4>Establish Shared Secret</h4>
                                    <p>Both users derive the same AES-256 key for message encryption</p>
                                    <div class="step-status" id="step-4-status">‚è≥ Pending</div>
                                </div>
                            </div>
                        </div>
                        <div class="exchange-details" id="exchange-details">
                            <h4>Technical Details</h4>
                            <div class="detail-grid">
                                <div class="detail-item">
                                    <span class="detail-label">Algorithm:</span>
                                    <span class="detail-value">ML-KEM-768</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Public Key Size:</span>
                                    <span class="detail-value">1,184 bytes</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Ciphertext Size:</span>
                                    <span class="detail-value">1,088 bytes</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Shared Secret:</span>
                                    <span class="detail-value">32 bytes (256-bit)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="chat-interface" class="two-column" style="display: none;">
                    <div class="card chat-card">
                        <div class="card-header">
                            <h3>üí¨ Messages</h3>
                            <span id="session-info" class="session-info"></span>
                        </div>
                        <div class="card-body">
                            <div id="messages-container" class="messages-container">
                                <div id="typing-indicator" class="typing-indicator" style="display: none;">
                                    <span class="typing-user"></span> is typing
                                    <span class="typing-dots">
                                        <span>.</span><span>.</span><span>.</span>
                                    </span>
                                </div>
                            </div>
                            <div class="message-input-area">
                                <button id="emoji-btn" class="btn btn-secondary emoji-btn" title="Add emoji">üòä</button>
                                <input type="text" id="message-input" placeholder="Type a message..." class="input-field">
                                <button id="send-message-btn" class="btn btn-primary">Send</button>
                            </div>
                            <div id="emoji-picker" class="emoji-picker" style="display: none;">
                                <div class="emoji-grid">
                                    <span class="emoji-item">üòä</span>
                                    <span class="emoji-item">üòÇ</span>
                                    <span class="emoji-item">‚ù§Ô∏è</span>
                                    <span class="emoji-item">üëç</span>
                                    <span class="emoji-item">üéâ</span>
                                    <span class="emoji-item">üî•</span>
                                    <span class="emoji-item">‚ú®</span>
                                    <span class="emoji-item">üíØ</span>
                                    <span class="emoji-item">üöÄ</span>
                                    <span class="emoji-item">üí™</span>
                                    <span class="emoji-item">üôè</span>
                                    <span class="emoji-item">üòé</span>
                                    <span class="emoji-item">ü§î</span>
                                    <span class="emoji-item">üòç</span>
                                    <span class="emoji-item">ü•≥</span>
                                    <span class="emoji-item">üò¢</span>
                                    <span class="emoji-item">üò±</span>
                                    <span class="emoji-item">ü§ó</span>
                                    <span class="emoji-item">üîê</span>
                                    <span class="emoji-item">üõ°Ô∏è</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card debug-card">
                        <div class="card-header">
                            <h3>üîê Handshake Debug Panel</h3>
                        </div>
                        <div class="card-body">
                            <div id="handshake-steps" class="handshake-steps"></div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>üîê Cryptography</h4>
                    <p>ML-KEM-768 (Kyber)</p>
                    <p>AES-256-GCM</p>
                    <p>NIST Standardized</p>
                </div>
                <div class="footer-section">
                    <h4>‚ö° Features</h4>
                    <p>Domain Scanner</p>
                    <p>File Encryptor</p>
                    <p>Secure Messaging</p>
                </div>
                <div class="footer-section">
                    <h4>üöÄ Technology</h4>
                    <p>Java 24 Native PQC</p>
                    <p>Vert.x Framework</p>
                    <p>Quantum-Safe</p>
                </div>
                <div class="footer-section">
                    <h4>üìö Info</h4>
                    <p>Made with Bob</p>
                    <p>Version 1.0.0</p>
                    <p>2026</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/interactive-charts.js"></script>
    <script src="js/app.js"></script>
</body>
</html>