<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PQC File Encryptor - Post-Quantum Cryptography Demo</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üîê PQC File Encryptor</h1>
            <p class="subtitle">Hybrid Cryptography with Kyber KEM + AES</p>
        </header>

        <!-- Navigation Tabs -->
        <div class="tabs">
            <button class="tab-button active" onclick="showTab('encrypt')">Encrypt Files</button>
            <button class="tab-button" onclick="showTab('records')">Encryption Records</button>
            <button class="tab-button" onclick="showTab('dashboard')">Dashboard</button>
            <button class="tab-button" onclick="showTab('comparison')">Size Comparison</button>
        </div>

        <!-- Encrypt Tab -->
        <div id="encrypt-tab" class="tab-content active">
            <div class="card">
                <h2>File Encryption</h2>
                <p class="info-text">Upload a file and encrypt it using AES with Kyber KEM for key encapsulation</p>
                
                <div class="upload-section">
                    <input type="file" id="fileInput" class="file-input">
                    <button onclick="uploadFile()" class="btn btn-primary">Upload File</button>
                    <div id="uploadStatus" class="status-message"></div>
                </div>

                <div class="encryption-options">
                    <h3>Encryption Options</h3>
                    <div class="form-group">
                        <label for="kemAlgorithm">Kyber Variant:</label>
                        <select id="kemAlgorithm" class="form-control">
                            <option value="Kyber512">Kyber512 (Security Level 1)</option>
                            <option value="Kyber768">Kyber768 (Security Level 3)</option>
                            <option value="Kyber1024" selected>Kyber1024 (Security Level 5)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="aesKeySize">AES Key Size:</label>
                        <select id="aesKeySize" class="form-control">
                            <option value="128">AES-128</option>
                            <option value="192">AES-192</option>
                            <option value="256" selected>AES-256</option>
                        </select>
                    </div>
                    <button onclick="encryptFile()" class="btn btn-success" id="encryptBtn" disabled>Encrypt File</button>
                </div>

                <div id="encryptionResult" class="result-section"></div>
            </div>
        </div>

        <!-- Records Tab -->
        <div id="records-tab" class="tab-content">
            <div class="card">
                <h2>Encryption Records</h2>
                <button onclick="loadRecords()" class="btn btn-secondary">Refresh Records</button>
                <div id="recordsList" class="records-list"></div>
            </div>
        </div>

        <!-- Dashboard Tab -->
        <div id="dashboard-tab" class="tab-content">
            <div class="card">
                <h2>Cryptographic Dashboard</h2>
                <button onclick="loadDashboard()" class="btn btn-secondary">Refresh Dashboard</button>
                
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Encryption Summary</h3>
                        <div id="summaryStats"></div>
                    </div>
                    
                    <div class="dashboard-card">
                        <h3>Key Size Distribution</h3>
                        <canvas id="keySizeChart"></canvas>
                    </div>
                    
                    <div class="dashboard-card full-width">
                        <h3>PQC vs Classical Key Sizes</h3>
                        <canvas id="comparisonChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Comparison Tab -->
        <div id="comparison-tab" class="tab-content">
            <div class="card">
                <h2>Classical vs Post-Quantum Key Size Comparison</h2>
                <p class="info-text">Visual comparison showing the size overhead of post-quantum cryptography</p>
                
                <div class="comparison-grid">
                    <div class="comparison-card classical">
                        <h3>üîë Classical Cryptography</h3>
                        <div class="key-info">
                            <div class="key-item">
                                <span class="key-label">RSA-2048 Public Key:</span>
                                <span class="key-value">294 bytes</span>
                            </div>
                            <div class="key-item">
                                <span class="key-label">RSA-2048 Private Key:</span>
                                <span class="key-value">1,704 bytes</span>
                            </div>
                            <div class="key-item total">
                                <span class="key-label">Total:</span>
                                <span class="key-value">1,998 bytes</span>
                            </div>
                        </div>
                    </div>

                    <div class="comparison-card pqc">
                        <h3>üõ°Ô∏è Post-Quantum (Kyber512)</h3>
                        <div class="key-info">
                            <div class="key-item">
                                <span class="key-label">Public Key:</span>
                                <span class="key-value">800 bytes</span>
                            </div>
                            <div class="key-item">
                                <span class="key-label">Private Key:</span>
                                <span class="key-value">1,632 bytes</span>
                            </div>
                            <div class="key-item">
                                <span class="key-label">Ciphertext:</span>
                                <span class="key-value">768 bytes</span>
                            </div>
                            <div class="key-item total">
                                <span class="key-label">Total:</span>
                                <span class="key-value">3,200 bytes</span>
                            </div>
                            <div class="overhead">+60% overhead</div>
                        </div>
                    </div>

                    <div class="comparison-card pqc">
                        <h3>üõ°Ô∏è Post-Quantum (Kyber768)</h3>
                        <div class="key-info">
                            <div class="key-item">
                                <span class="key-label">Public Key:</span>
                                <span class="key-value">1,184 bytes</span>
                            </div>
                            <div class="key-item">
                                <span class="key-label">Private Key:</span>
                                <span class="key-value">2,400 bytes</span>
                            </div>
                            <div class="key-item">
                                <span class="key-label">Ciphertext:</span>
                                <span class="key-value">1,088 bytes</span>
                            </div>
                            <div class="key-item total">
                                <span class="key-label">Total:</span>
                                <span class="key-value">4,672 bytes</span>
                            </div>
                            <div class="overhead">+134% overhead</div>
                        </div>
                    </div>

                    <div class="comparison-card pqc">
                        <h3>üõ°Ô∏è Post-Quantum (Kyber1024)</h3>
                        <div class="key-info">
                            <div class="key-item">
                                <span class="key-label">Public Key:</span>
                                <span class="key-value">1,568 bytes</span>
                            </div>
                            <div class="key-item">
                                <span class="key-label">Private Key:</span>
                                <span class="key-value">3,168 bytes</span>
                            </div>
                            <div class="key-item">
                                <span class="key-label">Ciphertext:</span>
                                <span class="key-value">1,568 bytes</span>
                            </div>
                            <div class="key-item total">
                                <span class="key-label">Total:</span>
                                <span class="key-value">6,304 bytes</span>
                            </div>
                            <div class="overhead">+216% overhead</div>
                        </div>
                    </div>
                </div>

                <div class="info-box">
                    <h3>üìä Why the Size Difference?</h3>
                    <ul>
                        <li><strong>Mathematical Foundation:</strong> PQC algorithms use lattice-based cryptography which requires larger keys for equivalent security</li>
                        <li><strong>Quantum Resistance:</strong> The larger key sizes provide protection against quantum computer attacks</li>
                        <li><strong>Trade-off:</strong> Increased size for future-proof security against quantum threats</li>
                        <li><strong>Hybrid Approach:</strong> This demo combines AES (symmetric) with Kyber KEM for optimal performance</li>
                    </ul>
                </div>

                <canvas id="sizeComparisonChart"></canvas>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>PQC File Encryptor - Demonstrating Hybrid Post-Quantum Cryptography</p>
            <p>Built with Vert.x, PostgreSQL, and Bouncy Castle PQC</p>
        </footer>
    </div>

    <script src="app.js?v=4"></script>
</body>
</html>