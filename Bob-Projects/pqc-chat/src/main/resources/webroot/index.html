<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PQC Secured Messaging</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üîê PQC Secured Messaging</h1>
            <p class="subtitle">Post-Quantum Cryptography Chat with Kyber Key Exchange</p>
        </header>

        <div class="main-content">
            <!-- Session Setup -->
            <div class="card" id="sessionSetup">
                <h2>Create Chat Session</h2>
                <div class="form-group">
                    <label for="user1">User 1 Name:</label>
                    <input type="text" id="user1" value="Alice" placeholder="Enter first user name">
                </div>
                <div class="form-group">
                    <label for="user2">User 2 Name:</label>
                    <input type="text" id="user2" value="Bob" placeholder="Enter second user name">
                </div>
                <button id="createSessionBtn" class="btn btn-primary">Create Session & Exchange Keys</button>
                <div id="sessionStatus" class="status-message"></div>
            </div>

            <!-- Debug Panel -->
            <div class="card debug-panel" id="debugPanel" style="display: none;">
                <h2>üîç PQC Handshake Debug Panel</h2>
                <div class="debug-content">
                    <div class="debug-section">
                        <h3>Session Information</h3>
                        <div id="sessionInfo" class="info-box"></div>
                    </div>
                    
                    <div class="debug-columns">
                        <div class="debug-section">
                            <h3 id="user1Title">Alice's Handshake Steps</h3>
                            <div id="user1Steps" class="steps-list"></div>
                        </div>
                        
                        <div class="debug-section">
                            <h3 id="user2Title">Bob's Handshake Steps</h3>
                            <div id="user2Steps" class="steps-list"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chat Interface -->
            <div class="card chat-container" id="chatContainer" style="display: none;">
                <h2>üí¨ Secure Chat</h2>
                <div class="chat-info">
                    <span class="status-indicator">üîí End-to-End Encrypted with AES-256-GCM</span>
                    <span id="chatUsers"></span>
                </div>
                
                <div id="messageList" class="message-list"></div>
                
                <div class="message-input-container">
                    <div class="form-group">
                        <label for="senderSelect">Send as:</label>
                        <select id="senderSelect">
                            <option value="Alice">Alice</option>
                            <option value="Bob">Bob</option>
                        </select>
                    </div>
                    <div class="form-group message-input-group">
                        <input type="text" id="messageInput" placeholder="Type your message..." />
                        <button id="sendMessageBtn" class="btn btn-primary">Send</button>
                    </div>
                </div>
            </div>

            <!-- Message Details Panel -->
            <div class="card" id="messageDetails" style="display: none;">
                <h2>üìä Message Encryption Details</h2>
                <div id="messageDetailsContent" class="details-content"></div>
            </div>
        </div>

        <footer>
            <p>Built with Java 22+ Post-Quantum Cryptography APIs | Kyber-1024 + AES-256-GCM</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>