<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz â€” Millionaire-style Layout</title>
  <style>
    :root{--bg:#071028;--panel:#081428;--accent:#ffd24a;--muted:#9fb3c8;--correct:#3ae374;--wrong:#ff6b6b;font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    *{box-sizing:border-box} html,body{height:100%} body{margin:0;background: radial-gradient(1200px 600px at 10% 10%, rgba(3,16,32,0.6), transparent),linear-gradient(180deg,#001026 0%, #041a30 60%);color: #e6f0f8;display:flex;align-items:center;justify-content:center;padding:24px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}
    .stage{width:1100px;max-width:100%;display:grid;grid-template-columns: 1fr 320px;gap:20px;align-items:start;}
    .main{background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.12));border-radius:14px;padding:22px;box-shadow: 0 8px 30px rgba(2,10,24,0.6), inset 0 1px 0 rgba(255,255,255,0.02);}
    .header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
    .logo-like{display:flex;gap:12px;align-items:center}
    .logo-badge{width:56px;height:56px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#ff9d3b);display:flex;align-items:center;justify-content:center;font-weight:700;color:#071428;font-size:18px}
    .game-title{font-size:18px;color:var(--accent);letter-spacing:1px}
    .question-box{background:rgba(0,0,0,0.25);border-radius:10px;padding:22px;margin-top:6px;opacity:0;transition:opacity 0.6s ease}
    .question-box.visible{opacity:1}
    .question-num{font-size:13px;color:var(--muted)}
    .question-text{font-size:22px;margin-top:8px;line-height:1.25}
    .answers{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:18px}
    .answer{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.15));padding:14px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;min-height:60px;display:flex;align-items:center;gap:12px;transition:transform .12s ease, box-shadow .12s ease, border-color .2s ease, box-shadow .2s ease}
    .answer:hover{transform:translateY(-4px);box-shadow:0 10px 30px rgba(2,12,32,0.6)}
    .answer-label{width:38px;height:38px;border-radius:8px;background:rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;font-weight:700}
    .answer-text{flex:1}
    .answer.correct{border-color:rgba(58,227,116,0.22);background:linear-gradient(90deg, rgba(58,227,116,0.08), rgba(58,227,116,0.02))}
    .answer.wrong{border-color:rgba(255,107,107,0.18);background:linear-gradient(90deg, rgba(255,107,107,0.06), rgba(255,107,107,0.02))}
    .answer.selected{border-color:var(--accent);box-shadow:0 0 12px var(--accent)}
    .controls{display:flex;gap:12px;margin-top:16px}
    .lifeline{background:#031226;padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);cursor:pointer;min-width:110px;display:flex;gap:10px;align-items:center;justify-content:center}
    .lifeline[aria-disabled="true"]{opacity:0.35;cursor:not-allowed}
    .footer{display:flex;align-items:center;justify-content:space-between;margin-top:14px;color:var(--muted);font-size:14px}
    .side{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.12));padding:18px;border-radius:12px;height:100%;position:relative}
    .ladder{display:flex;flex-direction:column-reverse;gap:6px;height:100%;overflow:auto;padding-right:6px}
    .step{display:flex;align-items:center;justify-content:space-between;padding:8px;border-radius:6px;font-weight:600;transition:background 0.3s ease}
    .step.lock{opacity:0.36}
    .step.active{background:linear-gradient(90deg, rgba(255,210,74,0.12), rgba(255,210,74,0.04));color:var(--accent);box-shadow:inset 0 -1px 0 rgba(255,255,255,0.02)}
    .step.flash{background:linear-gradient(90deg, rgba(255,107,107,0.4), rgba(255,107,107,0.1));animation:flash 0.6s alternate 4}
    @keyframes flash {from {background:linear-gradient(90deg, rgba(255,107,107,0.7), rgba(255,107,107,0.2));} to {background:linear-gradient(90deg, rgba(255,210,74,0.2), rgba(255,210,74,0.05));}}
    #lifeline-50:hover {
  	background-color: var(--accent);
  	color: #071428;
  	border-color: var(--accent);
  	box-shadow: 0 0 8px var(--accent);
  	transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
	}
	
	#lifeline-phone:hover {
  	background-color: var(--accent);
  	color: #071428;
  	border-color: var(--accent);
  	box-shadow: 0 0 8px var(--accent);
  	transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
	}
	
	
	#lifeline-audience:hover {
  	background-color: var(--accent);
  	color: #071428;
  	border-color: var(--accent);
  	box-shadow: 0 0 8px var(--accent);
  	transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
	}
    .audience-poll {
	  font-size: 12px;
	  color: var(--accent);
	  margin-top: 4px;
	  background: rgba(255, 255, 255, 0.06);
	  border-radius: 4px;
	  overflow: hidden;
	  height: 10px;
	  position: relative;
	}
	
	.audience-bar {
	  background-color: var(--accent);
	  height: 100%;
	  width: 0%;
	  transition: width 0.4s ease-in-out;
	}
    
  </style>
</head>
<body>
  <div class="stage" role="application" aria-label="Quiz stage">
    <main class="main">
      <div class="header">
        <div class="logo-like">
          <div class="logo-badge">Q</div>
          <div>
            <div class="game-title">MILLIONAIRE â€” STYLE QUIZ</div>
            <div style="font-size:12px;color:var(--muted)">Practice interface â€¢ interactive demo</div>
          </div>
        </div>
        <div style="text-align:right">
          <div style="font-size:13px;color:var(--muted)">Prize: <strong>â‚¬1,000,000</strong></div>
          <div style="font-size:12px;color:var(--muted)">Question <span id="qIndex">1</span>/15</div>
        </div>
      </div>

      <section class="question-box" aria-labelledby="question" id="questionBox">
        <div class="question-num" id="question">Question</div>
        <div class="question-text" id="questionText"></div>
        <div class="answers" id="answers"></div>
        <div class="controls" role="toolbar" aria-label="lifelines">
          <button class="lifeline" id="lifeline-50" aria-pressed="false">50:50</button>
          <button class="lifeline" id="lifeline-phone" aria-pressed="false">Phone a friend</button>
          <button class="lifeline" id="lifeline-audience" aria-pressed="false">Ask audience</button>
          <button class="lifeline" id="btn-walk" style="background:#1b2b3b">Walk away</button>
        </div>
        <div class="footer">
          <div id="status">Select an answer to lock it in.</div>
          <div>
            <button id="btn-lock" style="padding:8px 12px;border-radius:8px;background:var(--accent);border:none;cursor:pointer;font-weight:700">Lock Answer</button>
            <button id="btn-restart" style="display:none;padding:8px 12px;border-radius:8px;background:#ff6b6b;border:none;cursor:pointer;font-weight:700;color:white">Restart</button>
          </div>
        </div>
      </section>
    </main>
    <aside class="side" aria-label="money ladder">
      <div style="font-size:13px;color:var(--muted);margin-bottom:8px">Money Ladder</div>
      <div class="ladder" id="ladder"></div>
    </aside>
  </div>

  <script>
    (function(){
      const answersEl = document.getElementById('answers');
      const btnLock = document.getElementById('btn-lock');
      const status = document.getElementById('status');
      const qIndex = document.getElementById('qIndex');
      const ladderEl = document.getElementById('ladder');
      const btnRestart = document.getElementById('btn-restart');
      const questionBox = document.getElementById('questionBox');
      const lifeline50 = document.getElementById('lifeline-50');
      const lifelineAudience = document.getElementById('lifeline-audience');
      const lifelinePhone = document.getElementById('lifeline-phone');


      lifelineAudience.addEventListener('click', () => {
    	  if (lifelineAudience.getAttribute('aria-disabled') === 'true') return;
    	  if (lockedIndex !== null) return; // prevent using after answer is locked

    	  const answers = Array.from(answersEl.querySelectorAll('.answer'));
    	  const correctAnswer = answers.find(a => a.dataset.isCorrect === 'true');

    	  // Generate poll data
    	  let remainingPercent = 100;
    	  const pollData = [];

    	  answers.forEach((el, i) => {
    	    let percent;
    	    if (el === correctAnswer) {
    	      percent = Math.floor(Math.random() * 21) + 50; // 50â€“70%
    	    } else {
    	      percent = Math.floor(Math.random() * Math.min(remainingPercent, 30));
    	    }
    	    pollData.push({ el, percent });
    	    remainingPercent -= percent;
    	  });

    	  // Distribute remaining percent randomly
    	  for (let i = 0; i < pollData.length && remainingPercent > 0; i++) {
    	    const extra = Math.min(remainingPercent, Math.floor(Math.random() * 10));
    	    pollData[i].percent += extra;
    	    remainingPercent -= extra;
    	  }

    	  // Display results
    	pollData.forEach(({ el, percent }) => {
		  const textEl = el.querySelector('.answer-text');
		  const pollContainer = document.createElement('div');
		  pollContainer.className = 'audience-poll';
		  pollContainer.innerHTML = `
		    <div class="audience-bar" style="width: ${percent}%;"></div>
		    <span style="position:absolute;right:6px;top:-18px;font-size:12px;color:var(--muted);">${percent}%</span>
		  `;
		  textEl.appendChild(pollContainer);
		});

    	  // Disable the lifeline
    	  lifelineAudience.setAttribute('aria-disabled', 'true');
    	  lifelineAudience.style.opacity = '0.35';
    	  lifelineAudience.style.cursor = 'not-allowed';
    	});

      
      lifeline50.addEventListener('click', () => {
    	  if (lifeline50.getAttribute('aria-disabled') === 'true') return;

    	  const answers = Array.from(answersEl.querySelectorAll('.answer'));
    	  const incorrectAnswers = answers.filter(a => a.dataset.isCorrect !== 'true');

    	  // Randomly pick two incorrect answers to remove
    	  const toHide = shuffleArray(incorrectAnswers).slice(0, 2);
    	  toHide.forEach(el => {
    	    el.style.visibility = 'hidden'; // You can also use el.remove() or add a "disabled" class
    	  });

    	  // Disable the lifeline
    	  lifeline50.setAttribute('aria-disabled', 'true');
    	  lifeline50.style.opacity = '0.35';
    	  lifeline50.style.cursor = 'not-allowed';
    	});
      
      lifelinePhone.addEventListener('click', () => {
    	  if (lifelinePhone.getAttribute('aria-disabled') === 'true') return;
    	  if (lockedIndex !== null) return;

    	  const answers = Array.from(answersEl.querySelectorAll('.answer'));
    	  const correct = answers.find(a => a.dataset.isCorrect === 'true');
    	  const otherAnswers = answers.filter(a => a !== correct);

    	  // Decide if the friend gives the right answer (~75% chance)
    	  const friendIsCorrect = Math.random() < 0.75;
    	  const suggested = friendIsCorrect ? correct : otherAnswers[Math.floor(Math.random() * otherAnswers.length)];

    	  // Find label (A/B/C/D)
    	  const label = suggested.querySelector('.answer-label').textContent;
    	  const text = suggested.querySelector('.answer-text').textContent;

    	  // Show the message in the status area
    	  status.textContent = `ðŸ“ž Your friend says: "I'm not totally sure, but I think it's ${label} - ${text}."`;

    	  // Disable the lifeline button
    	  lifelinePhone.setAttribute('aria-disabled', 'true');
    	  lifelinePhone.style.opacity = '0.35';
    	  lifelinePhone.style.cursor = 'not-allowed';
    	});


      const masterQuestions = [
        {q:'Which planet is known for its rings?', options:['Saturn','Earth','Mars','Venus']},
        {q:'What is the chemical symbol for water?', options:['H2O','O2','CO2','NaCl']},
        {q:'Who wrote "Pride and Prejudice"?', options:['Jane Austen','Charlotte BrontÃ«','Emily Dickinson','Mary Shelley']},
        {q:'What is the largest mammal?', options:['Blue whale','Elephant','Giraffe','Hippopotamus']},
        {q:'Which element has the symbol Au?', options:['Gold','Silver','Copper','Iron']},
        {q:'What is the capital of Japan?', options:['Tokyo','Kyoto','Osaka','Nagoya']},
        {q:'Which gas do plants absorb for photosynthesis?', options:['Carbon dioxide','Oxygen','Nitrogen','Hydrogen']},
        {q:'Who painted the Mona Lisa?', options:['Leonardo da Vinci','Vincent van Gogh','Pablo Picasso','Claude Monet']},
        {q:'How many continents are there?', options:['7','5','6','8']},
        {q:'Which organ pumps blood through the body?', options:['Heart','Liver','Lungs','Kidneys']},
        {q:'What is the boiling point of water at sea level?', options:['100Â°C','90Â°C','80Â°C','120Â°C']},
        {q:'Who developed the theory of relativity?', options:['Albert Einstein','Isaac Newton','Galileo Galilei','Nikola Tesla']},
        {q:'Which ocean is the largest?', options:['Pacific Ocean','Atlantic Ocean','Indian Ocean','Arctic Ocean']},
        {q:'What is the smallest prime number?', options:['2','1','3','5']},
        {q:'Which language has the most native speakers?', options:['Mandarin Chinese','English','Spanish','Hindi']}
      ];

      let questions = [];
      const moneySteps = [
        'â‚¬100','â‚¬200','â‚¬300','â‚¬500','â‚¬1,000',
        'â‚¬2,000','â‚¬4,000','â‚¬8,000','â‚¬16,000','â‚¬32,000',
        'â‚¬64,000','â‚¬125,000','â‚¬250,000','â‚¬500,000','â‚¬1,000,000'
      ];

      let current = 0;
      let lockedIndex = null;

      function shuffleArray(arr){
        return arr.map(a=>[Math.random(),a]).sort((a,b)=>a[0]-b[0]).map(a=>a[1]);
      }

      function selectGameQuestions(){
        // Shuffle and select 15 unique questions
        const shuffledMaster = shuffleArray(masterQuestions);
        questions = shuffledMaster.slice(0, Math.min(15, shuffledMaster.length));
      }

      function renderLadder(){
        ladderEl.innerHTML = '';
        for(let i=moneySteps.length-1;i>=0;i--){
          const step = document.createElement('div');
          step.className = 'step' + (i>current ? ' lock' : '') + (i===current ? ' active' : '');
          step.innerHTML = `<span>${i+1}</span><span>${moneySteps[i]}</span>`;
          ladderEl.appendChild(step);
        }
      }

      function renderQuestion(){
        questionBox.classList.remove('visible');
        setTimeout(()=>{
          const q = questions[current];
          document.getElementById('questionText').textContent = q.q;
          qIndex.textContent = current+1;
          const shuffledOptions = shuffleArray(q.options.slice());
          answersEl.innerHTML = '';
          const labels = ['A','B','C','D'];
          shuffledOptions.forEach((opt,i)=>{
            const el = document.createElement('div');
            el.className = 'answer';
            el.dataset.isCorrect = (opt === q.options[0]);
            el.dataset.key = labels[i];
            el.innerHTML = `<div class="answer-label">${labels[i]}</div><div class="answer-text">${opt}</div>`;
            answersEl.appendChild(el);
          });
          lockedIndex = null;
          status.textContent = 'Select an answer to lock it in.';
          btnLock.style.display = 'inline-block';
          btnRestart.style.display = 'none';
          questionBox.classList.add('visible');
        },300);
      }

      function resetGame(){
        current = 0;
        selectGameQuestions();
        renderLadder();
        renderQuestion();
      }

      renderLadder();
      selectGameQuestions();
      renderQuestion();

      answersEl.addEventListener('click', (e)=>{
        const el = e.target.closest('.answer');
        if(!el || lockedIndex!==null) return;
        [...answersEl.querySelectorAll('.answer')].forEach(a=>a.classList.remove('selected'));
        el.classList.add('selected');
        status.textContent = `Selected ${el.dataset.key}. Click 'Lock Answer' to confirm.`;
      });

      btnLock.addEventListener('click', ()=>{
        const sel = answersEl.querySelector('.answer.selected');
        if(!sel){ status.textContent = 'Please select an answer first.'; return; }
        if(lockedIndex!==null) return;
        lockedIndex = 0;
        const opts = answersEl.querySelectorAll('.answer');
        opts.forEach((el)=>{
          el.classList.remove('selected');
          if(el.dataset.isCorrect === 'true') el.classList.add('correct');
          else if(el===sel) el.classList.add('wrong');
        });
        if(sel.dataset.isCorrect === 'true'){
          status.textContent = 'Correct!';
          setTimeout(()=>{
            current = (current+1) % questions.length;
            renderLadder();
            renderQuestion();
          },1000);
        } else {
          status.textContent = 'Incorrect. Game over.';
          ladderEl.querySelectorAll('.step')[moneySteps.length-1-current].classList.add('flash');
          btnLock.style.display = 'none';
          btnRestart.style.display = 'inline-block';
        }
      });

      btnRestart.addEventListener('click', resetGame);
    })();
  </script>
</body>
</html>
